<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a>node-horseman (v3.3.0)</a>
</h1>
<h4>Run PhantomJS from Node</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman">module node-horseman</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.node-horseman">
            function <span class="apidocSignatureSpan"></span>node-horseman
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise">
            function <span class="apidocSignatureSpan">node-horseman.</span>HorsemanPromise
            <span class="apidocSignatureSpan">(executor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.TimeoutError">
            function <span class="apidocSignatureSpan">node-horseman.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.registerAction">
            function <span class="apidocSignatureSpan">node-horseman.</span>registerAction
            <span class="apidocSignatureSpan">(name, action)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-horseman.</span>HorsemanPromise.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-horseman.</span>TimeoutError.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-horseman.</span>actions</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman.HorsemanPromise">module node-horseman.HorsemanPromise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.HorsemanPromise">
            function <span class="apidocSignatureSpan">node-horseman.</span>HorsemanPromise
            <span class="apidocSignatureSpan">(executor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.AggregateError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>AggregateError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.CancellationError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>CancellationError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.OperationalError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>OperationalError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.Promise">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>Promise
            <span class="apidocSignatureSpan">(executor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.PromiseInspection">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>PromiseInspection
            <span class="apidocSignatureSpan">(promise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.RangeError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>RangeError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.RejectionError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>RejectionError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.TimeoutError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.TypeError">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>TypeError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise._SomePromiseArray">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>_SomePromiseArray
            <span class="apidocSignatureSpan">(values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise._peekContext">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>_peekContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.all">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.any">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>any
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.attempt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>attempt
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.bind">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>bind
            <span class="apidocSignatureSpan">(thisArg, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.cast">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>cast
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.config">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>config
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.coroutine">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>coroutine
            <span class="apidocSignatureSpan">(generatorFunction, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.defer">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.delay">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>delay
            <span class="apidocSignatureSpan">(ms, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.each">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>each
            <span class="apidocSignatureSpan">(promises, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.filter">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>filter
            <span class="apidocSignatureSpan">(promises, fn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.fromCallback">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fromCallback
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.fromNode">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fromNode
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.fulfilled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fulfilled
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.getNewLibraryCopy">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>getNewLibraryCopy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.hasLongStackTraces">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>hasLongStackTraces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.is">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>is
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.join">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.longStackTraces">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>longStackTraces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.map">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>map
            <span class="apidocSignatureSpan">(promises, fn, options, _filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.mapSeries">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>mapSeries
            <span class="apidocSignatureSpan">(promises, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.method">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>method
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.onPossiblyUnhandledRejection">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>onPossiblyUnhandledRejection
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.onUnhandledRejectionHandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>onUnhandledRejectionHandled
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.pending">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>pending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.promisify">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>promisify
            <span class="apidocSignatureSpan">(fn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.promisifyAll">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>promisifyAll
            <span class="apidocSignatureSpan">(target, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.props">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>props
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.race">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.reduce">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>reduce
            <span class="apidocSignatureSpan">(promises, fn, initialValue, _each)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.reject">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>reject
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.rejected">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>rejected
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.resolve">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>resolve
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.setScheduler">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>setScheduler
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.settle">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.some">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>some
            <span class="apidocSignatureSpan">(promises, howMany)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.spawn">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>spawn
            <span class="apidocSignatureSpan">(generatorFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.try">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>try
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.using">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>using
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman.HorsemanPromise.prototype">module node-horseman.HorsemanPromise.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.__evaluate">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>__evaluate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.__isCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>__isCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._addCallbacks">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_addCallbacks
            <span class="apidocSignatureSpan">( fulfill, reject, promise, receiver, domain )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._attachCancellationCallback">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_attachCancellationCallback
            <span class="apidocSignatureSpan">(onCancel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._attachExtraTrace">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_attachExtraTrace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._boundValue">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_boundValue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._branchHasCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_branchHasCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBranched">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelBranched
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBy">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelBy
            <span class="apidocSignatureSpan">(canceller)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelPromises">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelPromises
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._captureStackTrace">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_captureStackTrace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._clearCallbackDataAtIndex">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_clearCallbackDataAtIndex
            <span class="apidocSignatureSpan">(index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._clearCancellationData">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_clearCancellationData
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._doInvokeOnCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_doInvokeOnCancel
            <span class="apidocSignatureSpan">(onCancelCallback, internalOnly)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._enoughBranchesHaveCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_enoughBranchesHaveCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._ensurePossibleRejectionHandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_ensurePossibleRejectionHandled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._execute">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_execute
            <span class="apidocSignatureSpan">(executor, resolve, reject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fireEvent">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fireEvent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._followee">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_followee
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfill">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfill
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillPromises">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfillPromises
            <span class="apidocSignatureSpan">(len, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillmentHandlerAt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfillmentHandlerAt
            <span class="apidocSignatureSpan">(index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._getDisposer">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_getDisposer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._invokeInternalOnCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_invokeInternalOnCancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._invokeOnCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_invokeOnCancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isBound">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isBound
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isCancellable">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isCancellable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isDisposable">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isDisposable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFateSealed">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFateSealed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFinal">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFinal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFollowing">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFollowing
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isRejectionUnhandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isRejectionUnhandled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isUnhandledRejectionNotified">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isUnhandledRejectionNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._length">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_length
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallback0">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_migrateCallback0
            <span class="apidocSignatureSpan">(follower)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallbackAt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_migrateCallbackAt
            <span class="apidocSignatureSpan">(follower, index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejection">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_notifyUnhandledRejection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejectionIsHandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_notifyUnhandledRejectionIsHandled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._onCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_onCancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._passThrough">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_passThrough
            <span class="apidocSignatureSpan">(handler, type, success, fail)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._peekContext">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_peekContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._popContext">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_popContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._promiseAt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_promiseAt
            <span class="apidocSignatureSpan">(index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._promiseCreated">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_promiseCreated
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._propagateFrom">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_propagateFrom
            <span class="apidocSignatureSpan">(parent, flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._proxy">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_proxy
            <span class="apidocSignatureSpan">(proxyable, arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._pushContext">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_pushContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._reason">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_reason
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._receiverAt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_receiverAt
            <span class="apidocSignatureSpan">(index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._reject">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_reject
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectCallback">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectCallback
            <span class="apidocSignatureSpan">(reason, synchronous, ignoreNonErrorWarnings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectPromises">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectPromises
            <span class="apidocSignatureSpan">(len, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectionHandlerAt">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectionHandlerAt
            <span class="apidocSignatureSpan">(index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveCallback">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveCallback
            <span class="apidocSignatureSpan">(value, shouldBind)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromExecutor">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveFromExecutor
            <span class="apidocSignatureSpan">(executor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromSyncValue">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveFromSyncValue
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resultCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resultCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._returnedNonUndefined">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_returnedNonUndefined
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setAsyncGuaranteed">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setAsyncGuaranteed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setBoundTo">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setBoundTo
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setDisposable">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setDisposable
            <span class="apidocSignatureSpan">(disposer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowee">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFollowee
            <span class="apidocSignatureSpan">(promise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowing">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFollowing
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFulfilled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFulfilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setIsFinal">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setIsFinal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setLength">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setLength
            <span class="apidocSignatureSpan">(len)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setOnCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setOnCancel
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setRejected">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setRejected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setRejectionIsUnhandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setRejectionIsUnhandled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setReturnedNonUndefined">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setReturnedNonUndefined
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setUnhandledRejectionIsNotified">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setUnhandledRejectionIsNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setWillBeCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setWillBeCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromise
            <span class="apidocSignatureSpan">(promise, handler, receiver, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise0">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromise0
            <span class="apidocSignatureSpan">(handler, value, bitField)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseCtx">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseCtx
            <span class="apidocSignatureSpan">(ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseFromHandler">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseFromHandler
            <span class="apidocSignatureSpan">( handler, receiver, value, promise )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseLateCancellationObserver">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseLateCancellationObserver
            <span class="apidocSignatureSpan">(ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromises">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromises
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settledValue">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settledValue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._target">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_target
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._then">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_then
            <span class="apidocSignatureSpan">( didFulfill, didReject, _, receiver, internalData )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetDisposable">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetDisposable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetOnCancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetOnCancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetRejectionIsUnhandled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetRejectionIsUnhandled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetUnhandledRejectionIsNotified">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetUnhandledRejectionIsNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._value">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_value
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype._warn">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_warn
            <span class="apidocSignatureSpan">(message, shouldUseOwnTrace, promise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.all">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>all
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.any">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>any
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.asCallback">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>asCallback
            <span class="apidocSignatureSpan">(nodeback, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.at">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>at
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.attribute">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>attribute
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.authentication">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>authentication
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.back">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>back
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.bind">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>bind
            <span class="apidocSignatureSpan">(thisArg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.boundingRectangle">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>boundingRectangle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.break">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>break
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.call">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>call
            <span class="apidocSignatureSpan">(methodName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cancel">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catch">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catch
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catchReturn">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catchReturn
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catchThrow">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catchThrow
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.caught">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>caught
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.clear">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>clear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.click">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>click
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.close">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.closeTab">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>closeTab
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cookies">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cookies
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.count">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>count
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.crop">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>crop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cropBase64">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cropBase64
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cssProperty">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cssProperty
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.delay">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>delay
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.disposer">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>disposer
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.do">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>do
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.done">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>done
            <span class="apidocSignatureSpan">(didFulfill, didReject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.download">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>download
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.each">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.error">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>error
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.evaluate">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>evaluate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.exists">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>exists
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.filter">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>filter
            <span class="apidocSignatureSpan">(fn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.finally">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>finally
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.forward">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>forward
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameCount">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameName">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameNames">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameNames
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.get">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>get
            <span class="apidocSignatureSpan">(propertyName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.headers">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>headers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.height">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>height
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.html">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>html
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.includeJs">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>includeJs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.injectJs">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>injectJs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isCancellable">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isCancellable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isCancelled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isCancelled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isFulfilled">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isFulfilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isPending">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isRejected">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isRejected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isResolved">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isResolved
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.keyboardEvent">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>keyboardEvent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.lastly">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>lastly
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.log">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.manipulate">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>manipulate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.map">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>map
            <span class="apidocSignatureSpan">(fn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.mapSeries">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>mapSeries
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.mouseEvent">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>mouseEvent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.nodeify">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>nodeify
            <span class="apidocSignatureSpan">(nodeback, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.on">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>on
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.open">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>open
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.openTab">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>openTab
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.pdf">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>pdf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.plainText">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>plainText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.post">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>post
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.props">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>props
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.put">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>put
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.race">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>race
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reason">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reason
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reduce">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reduce
            <span class="apidocSignatureSpan">(fn, initialValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reflect">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reflect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reload">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.return">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>return
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.screenshot">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>screenshot
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.screenshotBase64">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>screenshotBase64
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.scrollTo">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>scrollTo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.select">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>select
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.setProxy">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>setProxy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.settle">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>settle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.some">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>some
            <span class="apidocSignatureSpan">(howMany)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.spread">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>spread
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.status">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>status
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.suppressUnhandledRejections">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>suppressUnhandledRejections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToChildFrame">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToChildFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFocusedFrame">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToFocusedFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFrame">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToMainFrame">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToMainFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToParentFrame">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToParentFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToTab">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToTab
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tabCount">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tabCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tap">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tap
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tapCatch">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tapCatch
            <span class="apidocSignatureSpan">(handlerOrPredicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.text">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>text
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.then">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>then
            <span class="apidocSignatureSpan">(didFulfill, didReject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.thenReturn">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>thenReturn
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.thenThrow">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>thenThrow
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.throw">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>throw
            <span class="apidocSignatureSpan">(reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.timeout">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.title">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>title
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.toJSON">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.toString">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.type">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>type
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.upload">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>upload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.url">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>url
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.userAgent">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>userAgent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.value">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>value
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.viewport">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>viewport
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.visible">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>visible
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.wait">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>wait
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitFor">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitFor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitForNextPage">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitForNextPage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitForSelector">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitForSelector
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.width">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>width
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.HorsemanPromise.prototype.zoom">
            function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>zoom
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman.TimeoutError">module node-horseman.TimeoutError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.TimeoutError.TimeoutError">
            function <span class="apidocSignatureSpan">node-horseman.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman.TimeoutError.prototype">module node-horseman.TimeoutError.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.TimeoutError.prototype.constructor">
            function <span class="apidocSignatureSpan">node-horseman.TimeoutError.prototype.</span>constructor
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-horseman.actions">module node-horseman.actions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.__evaluate">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>__evaluate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.at">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>at
            <span class="apidocSignatureSpan">(eventType, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.attribute">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>attribute
            <span class="apidocSignatureSpan">(selector, attr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.authentication">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>authentication
            <span class="apidocSignatureSpan">(user, password)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.back">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>back
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.boundingRectangle">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>boundingRectangle
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.clear">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>clear
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.click">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>click
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.closeTab">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>closeTab
            <span class="apidocSignatureSpan">(tabNumber)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.cookies">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>cookies
            <span class="apidocSignatureSpan">(arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.count">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>count
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.crop">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>crop
            <span class="apidocSignatureSpan">(area, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.cropBase64">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>cropBase64
            <span class="apidocSignatureSpan">(area, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.cssProperty">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>cssProperty
            <span class="apidocSignatureSpan">(selector, prop)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.do">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>do
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.download">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>download
            <span class="apidocSignatureSpan">(url, path, binary, method, data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.evaluate">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>evaluate
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.exists">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>exists
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.forward">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>forward
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.frameCount">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.frameName">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.frameNames">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameNames
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.headers">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>headers
            <span class="apidocSignatureSpan">(headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.height">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>height
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.html">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>html
            <span class="apidocSignatureSpan">(selector, file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.includeJs">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>includeJs
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.injectJs">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>injectJs
            <span class="apidocSignatureSpan">(file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.keyboardEvent">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>keyboardEvent
            <span class="apidocSignatureSpan">(type, key, modifier)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.log">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>log
            <span class="apidocSignatureSpan">(output)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.manipulate">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>manipulate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.mouseEvent">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>mouseEvent
            <span class="apidocSignatureSpan">(type, x, y, button)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.on">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>on
            <span class="apidocSignatureSpan">(eventType, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.open">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>open
            <span class="apidocSignatureSpan">(url, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.openTab">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>openTab
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.pdf">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>pdf
            <span class="apidocSignatureSpan">(path, paperSize)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.plainText">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>plainText
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.post">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>post
            <span class="apidocSignatureSpan">(url, postData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.put">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>put
            <span class="apidocSignatureSpan">(url, putData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.reload">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>reload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.screenshot">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>screenshot
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.screenshotBase64">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>screenshotBase64
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.scrollTo">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>scrollTo
            <span class="apidocSignatureSpan">(top, left)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.select">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>select
            <span class="apidocSignatureSpan">(selector, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.setProxy">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>setProxy
            <span class="apidocSignatureSpan">(ip, port, type, user, pass)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.status">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>status
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToChildFrame">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToChildFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToFocusedFrame">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToFocusedFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToFrame">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToFrame
            <span class="apidocSignatureSpan">(nameOrPosition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToMainFrame">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToMainFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToParentFrame">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToParentFrame
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.switchToTab">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToTab
            <span class="apidocSignatureSpan">(tabNumber)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.tabCount">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>tabCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.text">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>text
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.title">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>title
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.type">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>type
            <span class="apidocSignatureSpan">(selector, text, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.upload">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>upload
            <span class="apidocSignatureSpan">(selector, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.url">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>url
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.userAgent">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>userAgent
            <span class="apidocSignatureSpan">(userAgent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.value">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>value
            <span class="apidocSignatureSpan">(selector, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.viewport">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>viewport
            <span class="apidocSignatureSpan">(width, height)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.visible">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>visible
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.wait">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>wait
            <span class="apidocSignatureSpan">(milliseconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.waitFor">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitFor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.waitForNextPage">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitForNextPage
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.waitForSelector">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitForSelector
            <span class="apidocSignatureSpan">(selector, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.width">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>width
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-horseman.actions.zoom">
            function <span class="apidocSignatureSpan">node-horseman.actions.</span>zoom
            <span class="apidocSignatureSpan">(zoomFactor)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman" id="apidoc.module.node-horseman">module node-horseman</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.node-horseman" id="apidoc.element.node-horseman.node-horseman">
        function <span class="apidocSignatureSpan"></span>node-horseman
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Horseman(options) {
	this.ready = false;
	if (!(this instanceof Horseman)) { return new Horseman(options); }
	this.options = defaults(clone(options) || {}, DEFAULTS);

	this.id = ++instanceId;
	debug('.setup() creating phantom instance %s', this.id);

	var phantomOptions = {
		'load-images': this.options.loadImages,
		'ssl-protocol': this.options.sslProtocol
	};

	if (typeof this.options.ignoreSSLErrors !== 'undefined') {
		phantomOptions['ignore-ssl-errors'] = this.options.ignoreSSLErrors;
	}
	if (typeof this.options.webSecurity !== 'undefined') {
		phantomOptions['web-security'] = this.options.webSecurity;
	}
	if (typeof this.options.proxy !== 'undefined') {
		phantomOptions.proxy = this.options.proxy;
	}
	if (typeof this.options.proxyType !== 'undefined') {
		phantomOptions['proxy-type'] = this.options.proxyType;
	}
	if (typeof this.options.proxyAuth !== 'undefined') {
		phantomOptions['proxy-auth'] = this.options.proxyAuth;
	}
	if (typeof this.options.diskCache !== 'undefined') {
		phantomOptions['disk-cache'] = this.options.diskCache;
	}
	if (typeof this.options.diskCachePath !== 'undefined') {
		phantomOptions['disk-cache-path'] = this.options.diskCachePath;
	}
	if (typeof this.options.cookiesFile !== 'undefined') {
		phantomOptions['cookies-file'] = this.options.cookiesFile;
	}

	if (this.options.debugPort) {
		phantomOptions['remote-debugger-port'] = this.options.debugPort;
		phantomOptions['remote-debugger-autorun'] = 'no';
		if (this.options.debugAutorun !== false) {
			phantomOptions['remote-debugger-autorun'] = 'yes';
		}
	}

	Object.keys(this.options.phantomOptions || {}).forEach(function (key) {
		if (typeof phantomOptions[key] !== 'undefined') {
			debug('Horseman option ' + key + ' overridden by phantomOptions');
		}
		phantomOptions[key] = this.options.phantomOptions[key];
	}.bind(this));

	var instantiationOptions = {
		parameters: phantomOptions
	};

	if (typeof this.options.phantomPath !== 'undefined') {
		instantiationOptions['path'] = this.options.phantomPath;
	}

	// Store the url that was requested for the current url
	this.targetUrl = null;

	// Store the HTTP status code for resources requested.
	this.responses = {};

	this.tabs = [];
	this.onTabCreated = noop;
	this.onTabClosed = noop;

	this.ready = prepare(this, instantiationOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise" id="apidoc.element.node-horseman.HorsemanPromise">
        function <span class="apidocSignatureSpan">node-horseman.</span>HorsemanPromise
        <span class="apidocSignatureSpan">(executor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(executor) {
    if (executor !== INTERNAL) {
        check(this, executor);
    }
    this._bitField = 0;
    this._fulfillmentHandler0 = undefined;
    this._rejectionHandler0 = undefined;
    this._promise0 = undefined;
    this._receiver0 = undefined;
    this._resolveFromExecutor(executor);
    this._promiseCreated();
    this._fireEvent("promiseCreated", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.TimeoutError" id="apidoc.element.node-horseman.TimeoutError">
        function <span class="apidocSignatureSpan">node-horseman.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.registerAction" id="apidoc.element.node-horseman.registerAction">
        function <span class="apidocSignatureSpan">node-horseman.</span>registerAction
        <span class="apidocSignatureSpan">(name, action)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function registerAction(name, action) {
	if (typeof name === 'function') {
		// Work with just a named function
		action = name;
		name = action.name;
	}

	// Keep track of page counter before each action
	Horseman.prototype[name] = function() {
		this.lastActionPageCnt = this.curActionPageCnt;
		this.curActionPageCnt = this.pageCnt;
		return action.apply(this, arguments);
	};

	// Allow chaining actions off HorsemanPromises
	HorsemanPromise.prototype[name] = function() {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### Extending Horseman

You can add your own actions to horseman with `Horseman.registerAction`.
Be sure to register all actions *before* calling the constructor.

```js
Horseman.<span class="apidocCodeKeywordSpan">registerAction</span>('size', function(selector) {
// The function will be called with the Horseman instance as this
var self = this;
// Return the horseman chain, or any Promise
return this
  .waitForSelector(selector)
  .then(function() {
    return {
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman.HorsemanPromise" id="apidoc.module.node-horseman.HorsemanPromise">module node-horseman.HorsemanPromise</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.HorsemanPromise" id="apidoc.element.node-horseman.HorsemanPromise.HorsemanPromise">
        function <span class="apidocSignatureSpan">node-horseman.</span>HorsemanPromise
        <span class="apidocSignatureSpan">(executor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(executor) {
    if (executor !== INTERNAL) {
        check(this, executor);
    }
    this._bitField = 0;
    this._fulfillmentHandler0 = undefined;
    this._rejectionHandler0 = undefined;
    this._promise0 = undefined;
    this._receiver0 = undefined;
    this._resolveFromExecutor(executor);
    this._promiseCreated();
    this._fireEvent("promiseCreated", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.AggregateError" id="apidoc.element.node-horseman.HorsemanPromise.AggregateError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>AggregateError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.CancellationError" id="apidoc.element.node-horseman.HorsemanPromise.CancellationError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>CancellationError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.OperationalError" id="apidoc.element.node-horseman.HorsemanPromise.OperationalError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>OperationalError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OperationalError(message) {
    if (!(this instanceof OperationalError))
        return new OperationalError(message);
    notEnumerableProp(this, "name", "OperationalError");
    notEnumerableProp(this, "message", message);
    this.cause = message;
    this["isOperational"] = true;

    if (message instanceof Error) {
        notEnumerableProp(this, "message", message.message);
        notEnumerableProp(this, "stack", message.stack);
    } else if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.Promise" id="apidoc.element.node-horseman.HorsemanPromise.Promise">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>Promise
        <span class="apidocSignatureSpan">(executor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(executor) {
    if (executor !== INTERNAL) {
        check(this, executor);
    }
    this._bitField = 0;
    this._fulfillmentHandler0 = undefined;
    this._rejectionHandler0 = undefined;
    this._promise0 = undefined;
    this._receiver0 = undefined;
    this._resolveFromExecutor(executor);
    this._promiseCreated();
    this._fireEvent("promiseCreated", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.PromiseInspection" id="apidoc.element.node-horseman.HorsemanPromise.PromiseInspection">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>PromiseInspection
        <span class="apidocSignatureSpan">(promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PromiseInspection(promise) {
    if (promise !== undefined) {
        promise = promise._target();
        this._bitField = promise._bitField;
        this._settledValueField = promise._isFateSealed()
            ? promise._settledValue() : undefined;
    }
    else {
        this._bitField = 0;
        this._settledValueField = undefined;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.RangeError" id="apidoc.element.node-horseman.HorsemanPromise.RangeError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>RangeError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RangeError() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.RejectionError" id="apidoc.element.node-horseman.HorsemanPromise.RejectionError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>RejectionError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OperationalError(message) {
    if (!(this instanceof OperationalError))
        return new OperationalError(message);
    notEnumerableProp(this, "name", "OperationalError");
    notEnumerableProp(this, "message", message);
    this.cause = message;
    this["isOperational"] = true;

    if (message instanceof Error) {
        notEnumerableProp(this, "message", message.message);
        notEnumerableProp(this, "stack", message.stack);
    } else if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.TimeoutError" id="apidoc.element.node-horseman.HorsemanPromise.TimeoutError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.TypeError" id="apidoc.element.node-horseman.HorsemanPromise.TypeError">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>TypeError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TypeError() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise._SomePromiseArray" id="apidoc.element.node-horseman.HorsemanPromise._SomePromiseArray">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>_SomePromiseArray
        <span class="apidocSignatureSpan">(values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SomePromiseArray(values) {
    this.constructor$(values);
    this._howMany = 0;
    this._unwrap = false;
    this._initialized = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise._peekContext" id="apidoc.element.node-horseman.HorsemanPromise._peekContext">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>_peekContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_peekContext = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.all" id="apidoc.element.node-horseman.HorsemanPromise.all">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function (promises) {
    return new PromiseArray(promises).promise();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.any" id="apidoc.element.node-horseman.HorsemanPromise.any">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>any
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function (promises) {
    return any(promises);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.attempt" id="apidoc.element.node-horseman.HorsemanPromise.attempt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>attempt
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attempt = function (fn) {
    if (typeof fn !== "function") {
        return apiRejection("expecting a function but got " + util.classString(fn));
    }
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value;
    if (arguments.length &gt; 1) {
        debug.deprecated("calling Promise.try with more than 1 argument");
        var arg = arguments[1];
        var ctx = arguments[2];
        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)
                                  : tryCatch(fn).call(ctx, arg);
    } else {
        value = tryCatch(fn)();
    }
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.try", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.bind" id="apidoc.element.node-horseman.HorsemanPromise.bind">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>bind
        <span class="apidocSignatureSpan">(thisArg, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (thisArg, value) {
    return Promise.resolve(value).bind(thisArg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var hasCb = args.length &lt; fn.length; // Whether fn takes a callback
	var fname = fn.name || '&lt;anonymous&gt;';

	debug.apply(debug, ['.evaluate()', fname].concat(args));
	return this.ready.then(function() {
		// Handle this.page changing
		var page = self.page;
		var evaluate = HorsemanPromise.promisify(page.evaluate).<span class="apidocCodeKeywordSpan">bind</span>(page);

		// TODO: Move evaluate wrapper to a client script?
		// Make dumy error to make evaluate rejections more debuggable
		var stack = HorsemanPromise.reject(new Error('See next line'));
		var res = evaluate(function evaluate(fnstr, hasCb, args) {
				if(!window.__horseman) {
					window.__horseman = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.cast" id="apidoc.element.node-horseman.HorsemanPromise.cast">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>cast
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cast = function (obj) {
    var ret = tryConvertToPromise(obj);
    if (!(ret instanceof Promise)) {
        ret = new Promise(INTERNAL);
        ret._captureStackTrace();
        ret._setFulfilled();
        ret._rejectionHandler0 = obj;
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.config" id="apidoc.element.node-horseman.HorsemanPromise.config">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>config
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (opts) {
    opts = Object(opts);
    if ("longStackTraces" in opts) {
        if (opts.longStackTraces) {
            Promise.longStackTraces();
        } else if (!opts.longStackTraces &amp;&amp; Promise.hasLongStackTraces()) {
            disableLongStackTraces();
        }
    }
    if ("warnings" in opts) {
        var warningsOption = opts.warnings;
        config.warnings = !!warningsOption;
        wForgottenReturn = config.warnings;

        if (util.isObject(warningsOption)) {
            if ("wForgottenReturn" in warningsOption) {
                wForgottenReturn = !!warningsOption.wForgottenReturn;
            }
        }
    }
    if ("cancellation" in opts &amp;&amp; opts.cancellation &amp;&amp; !config.cancellation) {
        if (async.haveItemsQueued()) {
            throw new Error(
                "cannot enable cancellation after promises are in use");
        }
        Promise.prototype._clearCancellationData =
            cancellationClearCancellationData;
        Promise.prototype._propagateFrom = cancellationPropagateFrom;
        Promise.prototype._onCancel = cancellationOnCancel;
        Promise.prototype._setOnCancel = cancellationSetOnCancel;
        Promise.prototype._attachCancellationCallback =
            cancellationAttachCancellationCallback;
        Promise.prototype._execute = cancellationExecute;
        propagateFromFunction = cancellationPropagateFrom;
        config.cancellation = true;
    }
    if ("monitoring" in opts) {
        if (opts.monitoring &amp;&amp; !config.monitoring) {
            config.monitoring = true;
            Promise.prototype._fireEvent = activeFireEvent;
        } else if (!opts.monitoring &amp;&amp; config.monitoring) {
            config.monitoring = false;
            Promise.prototype._fireEvent = defaultFireEvent;
        }
    }
    return Promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.coroutine" id="apidoc.element.node-horseman.HorsemanPromise.coroutine">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>coroutine
        <span class="apidocSignatureSpan">(generatorFunction, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">coroutine = function (generatorFunction, options) {
    if (typeof generatorFunction !== "function") {
        throw new TypeError("generatorFunction must be a function\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
    }
    var yieldHandler = Object(options).yieldHandler;
    var PromiseSpawn$ = PromiseSpawn;
    var stack = new Error().stack;
    return function () {
        var generator = generatorFunction.apply(this, arguments);
        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,
                                      stack);
        var ret = spawn.promise();
        spawn._generator = generator;
        spawn._promiseFulfilled(undefined);
        return ret;
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.defer" id="apidoc.element.node-horseman.HorsemanPromise.defer">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defer = function () {
    debug.deprecated("Promise.defer", "new Promise");
    var promise = new Promise(INTERNAL);
    return {
        promise: promise,
        resolve: deferResolve,
        reject: deferReject
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.delay" id="apidoc.element.node-horseman.HorsemanPromise.delay">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>delay
        <span class="apidocSignatureSpan">(ms, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function (ms, value) {
    var ret;
    var handle;
    if (value !== undefined) {
        ret = Promise.resolve(value)
                ._then(afterValue, null, null, ms, undefined);
        if (debug.cancellation() &amp;&amp; value instanceof Promise) {
            ret._setOnCancel(value);
        }
    } else {
        ret = new Promise(INTERNAL);
        handle = setTimeout(function() { ret._fulfill(); }, +ms);
        if (debug.cancellation()) {
            ret._setOnCancel(new HandleWrapper(handle));
        }
        ret._captureStackTrace();
    }
    ret._setAsyncGuaranteed();
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
it will be waited on and the action in Node will resolve/reject accordingly.

```js
horseman
  .open('http://en.wikipedia.org/wiki/Headless_Horseman')
  .evaluate(function() {
    // Silly example for illustrative purposes.
    return Bluebird.<span class="apidocCodeKeywordSpan">delay</span>(100).return('Hello World');
  })
  .then(function(mesg){
    // Will log 'Hello World' after a roughly 100 ms delay.
    console.log(mesg);
  })
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.each" id="apidoc.element.node-horseman.HorsemanPromise.each">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>each
        <span class="apidocSignatureSpan">(promises, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (promises, fn) {
    return PromiseReduce(promises, fn, INTERNAL, 0)
              ._then(promiseAllThis, undefined, undefined, promises, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					.fromCallback(function(done) {
						return self.phantom.clearCookies(done);
					})
					.tap(function() {
						debug('.cookies() reset');
					})
					.return(arg)
					.<span class="apidocCodeKeywordSpan">each</span>(function(cookie) {
						return HorsemanPromise.fromCallback(function(done) {
							self.phantom.addCookie(cookie, done);
						});
					});
			}
			switch (typeof arg) {
				// adding one cookie
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.filter" id="apidoc.element.node-horseman.HorsemanPromise.filter">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>filter
        <span class="apidocSignatureSpan">(promises, fn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (promises, fn, options) {
    return PromiseMap(promises, fn, options, INTERNAL);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.fromCallback" id="apidoc.element.node-horseman.HorsemanPromise.fromCallback">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fromCallback
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromCallback = function (fn) {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    var multiArgs = arguments.length &gt; 1 ? !!Object(arguments[1]).multiArgs
                                         : false;
    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));
    if (result === errorObj) {
        ret._rejectCallback(result.e, true);
    }
    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		if (args.length &gt;= 2) {
			debug('.open()', meth, url);
		} else {
			debug('.open()', url);
		}
		var loaded = self.page.loadedPromise();
		loaded.catch(function() {});
		return HorsemanPromise.<span class="apidocCodeKeywordSpan">fromCallback</span>(function(done) {
				args.push(done);
				return self.page.open.apply(self.page, args);
			})
			.tap(function checkStatus(status) {
				if (status !== 'success') {
					var err = new Error('Failed to ' + meth + ' url: ' + url);
					return HorsemanPromise.reject(err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.fromNode" id="apidoc.element.node-horseman.HorsemanPromise.fromNode">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fromNode
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromNode = function (fn) {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    var multiArgs = arguments.length &gt; 1 ? !!Object(arguments[1]).multiArgs
                                         : false;
    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));
    if (result === errorObj) {
        ret._rejectCallback(result.e, true);
    }
    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.fulfilled" id="apidoc.element.node-horseman.HorsemanPromise.fulfilled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>fulfilled
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fulfilled = function (obj) {
    var ret = tryConvertToPromise(obj);
    if (!(ret instanceof Promise)) {
        ret = new Promise(INTERNAL);
        ret._captureStackTrace();
        ret._setFulfilled();
        ret._rejectionHandler0 = obj;
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.getNewLibraryCopy" id="apidoc.element.node-horseman.HorsemanPromise.getNewLibraryCopy">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>getNewLibraryCopy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNewLibraryCopy = function () {
var makeSelfResolutionError = function () {
    return new TypeError("circular promise resolution chain\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
};
var reflectHandler = function() {
    return new Promise.PromiseInspection(this._target());
};
var apiRejection = function(msg) {
    return Promise.reject(new TypeError(msg));
};
function Proxyable() {}
var UNDEFINED_BINDING = {};
var util = require("./util");

var getDomain;
if (util.isNode) {
    getDomain = function() {
        var ret = process.domain;
        if (ret === undefined) ret = null;
        return ret;
    };
} else {
    getDomain = function() {
        return null;
    };
}
util.notEnumerableProp(Promise, "_getDomain", getDomain);

var es5 = require("./es5");
var Async = require("./async");
var async = new Async();
es5.defineProperty(Promise, "_async", {value: async});
var errors = require("./errors");
var TypeError = Promise.TypeError = errors.TypeError;
Promise.RangeError = errors.RangeError;
var CancellationError = Promise.CancellationError = errors.CancellationError;
Promise.TimeoutError = errors.TimeoutError;
Promise.OperationalError = errors.OperationalError;
Promise.RejectionError = errors.OperationalError;
Promise.AggregateError = errors.AggregateError;
var INTERNAL = function(){};
var APPLY = {};
var NEXT_FILTER = {};
var tryConvertToPromise = require("./thenables")(Promise, INTERNAL);
var PromiseArray =
    require("./promise_array")(Promise, INTERNAL,
                               tryConvertToPromise, apiRejection, Proxyable);
var Context = require("./context")(Promise);
<span class="apidocCodeCommentSpan"> /*jshint unused:false*/
</span>var createContext = Context.create;
var debug = require("./debuggability")(Promise, Context);
var CapturedTrace = debug.CapturedTrace;
var PassThroughHandlerContext =
    require("./finally")(Promise, tryConvertToPromise, NEXT_FILTER);
var catchFilter = require("./catch_filter")(NEXT_FILTER);
var nodebackForPromise = require("./nodeback");
var errorObj = util.errorObj;
var tryCatch = util.tryCatch;
function check(self, executor) {
    if (self == null || self.constructor !== Promise) {
        throw new TypeError("the promise constructor cannot be invoked directly\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
    }
    if (typeof executor !== "function") {
        throw new TypeError("expecting a function but got " + util.classString(executor));
    }

}

function Promise(executor) {
    if (executor !== INTERNAL) {
        check(this, executor);
    }
    this._bitField = 0;
    this._fulfillmentHandler0 = undefined;
    this._rejectionHandler0 = undefined;
    this._promise0 = undefined;
    this._receiver0 = undefined;
    this._resolveFromExecutor(executor);
    this._promiseCreated();
    this._fireEvent("promiseCreated", this);
}

Promise.prototype.toString = function () {
    return "[object Promise]";
};

Promise.prototype.caught = Promise.prototype["catch"] = function (fn) {
    var len = arguments.length;
    if (len &gt; 1) {
        var catchInstances = new Array(len - 1),
            j = 0, i;
        for (i = 0; i &lt; len - 1; ++i) {
            var item = arguments[i];
            if (util.isObject(item)) {
                catchInstances[j++] = item;
            } else {
                return apiRejection("Catch statement predicate: " +
                    "expecting an object but got " + util.classString(item));
            }
        }
        catchInstances.length = j;
        fn = arguments[i];
        return this.then(undefined, catchFilter(catchInstances, fn, this));
    }
    return this.then(undefined, fn);
};

Promise.prototype.reflect = function () {
    return this._then(reflectHandler,
        reflectHandler, undefined, this, undefined);
};

Promise.prototype.then = function (didFulfill, didReject) {
    if (debug.warnings() &amp;&amp; arguments.length &gt; 0 &amp;&amp;
        typeof didFulfill !== "function" &amp;&amp;
        typeof didReject !== "function") {
        var msg = ".then() only accepts functions but was passed: " +
                util.classString(didFulfill);
        if (arguments.length &gt; 1) {
            msg += ", ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.hasLongStackTraces" id="apidoc.element.node-horseman.HorsemanPromise.hasLongStackTraces">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>hasLongStackTraces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasLongStackTraces = function () {
    return config.longStackTraces &amp;&amp; longStackTracesIsSupported();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.is" id="apidoc.element.node-horseman.HorsemanPromise.is">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>is
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">is = function (val) {
    return val instanceof Promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {string} selector - The selector to find the visibility of.
 */
exports.visible = function(selector) {
	debug('.visible()', selector);
	return this
		.__evaluate(function visible(selector) {
			if (window.jQuery) {
				return jQuery(selector).<span class="apidocCodeKeywordSpan">is</span>(':visible');
			} else {
				var elem = document.querySelector(selector);
				return elem &amp;&amp; (elem.offsetWidth &gt; 0 &amp;&amp; elem.offsetHeight &gt; 0);
			}
		}, selector)
		.then(function(vis) {
			return vis || false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.join" id="apidoc.element.node-horseman.HorsemanPromise.join">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">join = function () {
    var last = arguments.length - 1;
    var fn;
    if (last &gt; 0 &amp;&amp; typeof arguments[last] === "function") {
        fn = arguments[last];
        if (!false) {
            if (last &lt;= 8 &amp;&amp; canEvaluate) {
                var ret = new Promise(INTERNAL);
                ret._captureStackTrace();
                var HolderClass = holderClasses[last - 1];
                var holder = new HolderClass(fn);
                var callbacks = thenCallbacks;

                for (var i = 0; i &lt; last; ++i) {
                    var maybePromise = tryConvertToPromise(arguments[i], ret);
                    if (maybePromise instanceof Promise) {
                        maybePromise = maybePromise._target();
                        var bitField = maybePromise._bitField;
                        ;
                        if (((bitField &amp; 50397184) === 0)) {
                            maybePromise._then(callbacks[i], reject,
                                               undefined, ret, holder);
                            promiseSetters[i](maybePromise, holder);
                            holder.asyncNeeded = false;
                        } else if (((bitField &amp; 33554432) !== 0)) {
                            callbacks[i].call(ret,
                                              maybePromise._value(), holder);
                        } else if (((bitField &amp; 16777216) !== 0)) {
                            ret._reject(maybePromise._reason());
                        } else {
                            ret._cancel();
                        }
                    } else {
                        callbacks[i].call(ret, maybePromise, holder);
                    }
                }

                if (!ret._isFateSealed()) {
                    if (holder.asyncNeeded) {
                        var domain = getDomain();
                        if (domain !== null) {
                            holder.fn = util.domainBind(domain, holder.fn);
                        }
                    }
                    ret._setAsyncGuaranteed();
                    ret._setOnCancel(holder);
                }
                return ret;
            }
        }
    }
    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i &lt; $_len; ++$_i) {args[$_i] = arguments[$_i];};
    if (fn) args.pop();
    var ret = new PromiseArray(args).promise();
    return fn !== undefined ? ret.spread(fn) : ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

							if (!args.err.stack) {
								args.err.stack = args.err.toString();
							}
							args.err.stack.replace(/\n*$/g, '\n');
							var stack = err.stack.split('\n').slice(1);
							// Append Node stack to Phantom stack
							args.err.stack += stack.<span class="apidocCodeKeywordSpan">join</span>('\n');
						}
						if (args.err.stack) {
							args.err.toString = function() {
								return this.name + ': ' + this.message;
							};
						}
						return HorsemanPromise.reject(args.err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.longStackTraces" id="apidoc.element.node-horseman.HorsemanPromise.longStackTraces">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>longStackTraces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">longStackTraces = function () {
    if (async.haveItemsQueued() &amp;&amp; !config.longStackTraces) {
        throw new Error("cannot enable long stack traces after promises have been created\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
    }
    if (!config.longStackTraces &amp;&amp; longStackTracesIsSupported()) {
        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;
        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;
        config.longStackTraces = true;
        disableLongStackTraces = function() {
            if (async.haveItemsQueued() &amp;&amp; !config.longStackTraces) {
                throw new Error("cannot enable long stack traces after promises have been created\u000a\u000a    See http://goo.
gl/MqrFmX\u000a");
            }
            Promise.prototype._captureStackTrace = Promise_captureStackTrace;
            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;
            Context.deactivateLongStackTraces();
            async.enableTrampoline();
            config.longStackTraces = false;
        };
        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;
        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;
        Context.activateLongStackTraces();
        async.disableTrampolineIfNecessary();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.map" id="apidoc.element.node-horseman.HorsemanPromise.map">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>map
        <span class="apidocSignatureSpan">(promises, fn, options, _filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (promises, fn, options, _filter) {
    return map(promises, fn, options, _filter);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.mapSeries" id="apidoc.element.node-horseman.HorsemanPromise.mapSeries">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>mapSeries
        <span class="apidocSignatureSpan">(promises, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PromiseMapSeries(promises, fn) {
    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.method" id="apidoc.element.node-horseman.HorsemanPromise.method">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>method
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">method = function (fn) {
    if (typeof fn !== "function") {
        throw new Promise.TypeError("expecting a function but got " + util.classString(fn));
    }
    return function () {
        var ret = new Promise(INTERNAL);
        ret._captureStackTrace();
        ret._pushContext();
        var value = tryCatch(fn).apply(this, arguments);
        var promiseCreated = ret._popContext();
        debug.checkForgottenReturns(
            value, promiseCreated, "Promise.method", ret);
        ret._resolveFromSyncValue(value);
        return ret;
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.onPossiblyUnhandledRejection" id="apidoc.element.node-horseman.HorsemanPromise.onPossiblyUnhandledRejection">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>onPossiblyUnhandledRejection
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPossiblyUnhandledRejection = function (fn) {
    var domain = getDomain();
    possiblyUnhandledRejection =
        typeof fn === "function" ? (domain === null ?
                                            fn : util.domainBind(domain, fn))
                                 : undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.onUnhandledRejectionHandled" id="apidoc.element.node-horseman.HorsemanPromise.onUnhandledRejectionHandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>onUnhandledRejectionHandled
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onUnhandledRejectionHandled = function (fn) {
    var domain = getDomain();
    unhandledRejectionHandled =
        typeof fn === "function" ? (domain === null ?
                                            fn : util.domainBind(domain, fn))
                                 : undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.pending" id="apidoc.element.node-horseman.HorsemanPromise.pending">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>pending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pending = function () {
    debug.deprecated("Promise.defer", "new Promise");
    var promise = new Promise(INTERNAL);
    return {
        promise: promise,
        resolve: deferResolve,
        reject: deferReject
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.promisify" id="apidoc.element.node-horseman.HorsemanPromise.promisify">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>promisify
        <span class="apidocSignatureSpan">(fn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promisify = function (fn, options) {
    if (typeof fn !== "function") {
        throw new TypeError("expecting a function but got " + util.classString(fn));
    }
    if (isPromisified(fn)) {
        return fn;
    }
    options = Object(options);
    var receiver = options.context === undefined ? THIS : options.context;
    var multiArgs = !!options.multiArgs;
    var ret = promisify(fn, receiver, multiArgs);
    util.copyDescriptors(fn, ret, propsFilter);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var hasCb = args.length &lt; fn.length; // Whether fn takes a callback
	var fname = fn.name || '&lt;anonymous&gt;';

	debug.apply(debug, ['.evaluate()', fname].concat(args));
	return this.ready.then(function() {
		// Handle this.page changing
		var page = self.page;
		var evaluate = HorsemanPromise.<span class="apidocCodeKeywordSpan">promisify</span>(page.evaluate).bind(page);

		// TODO: Move evaluate wrapper to a client script?
		// Make dumy error to make evaluate rejections more debuggable
		var stack = HorsemanPromise.reject(new Error('See next line'));
		var res = evaluate(function evaluate(fnstr, hasCb, args) {
				if(!window.__horseman) {
					window.__horseman = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.promisifyAll" id="apidoc.element.node-horseman.HorsemanPromise.promisifyAll">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>promisifyAll
        <span class="apidocSignatureSpan">(target, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">promisifyAll = function (target, options) {
    if (typeof target !== "function" &amp;&amp; typeof target !== "object") {
        throw new TypeError("the target of promisifyAll must be an object or a function\u000a\u000a    See http://goo.gl/MqrFmX\
u000a");
    }
    options = Object(options);
    var multiArgs = !!options.multiArgs;
    var suffix = options.suffix;
    if (typeof suffix !== "string") suffix = defaultSuffix;
    var filter = options.filter;
    if (typeof filter !== "function") filter = defaultFilter;
    var promisifier = options.promisifier;
    if (typeof promisifier !== "function") promisifier = makeNodePromisified;

    if (!util.isIdentifier(suffix)) {
        throw new RangeError("suffix must be a valid identifier\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
    }

    var keys = util.inheritedDataKeys(target);
    for (var i = 0; i &lt; keys.length; ++i) {
        var value = target[keys[i]];
        if (keys[i] !== "constructor" &amp;&amp;
            util.isClass(value)) {
            promisifyAll(value.prototype, suffix, filter, promisifier,
                multiArgs);
            promisifyAll(value, suffix, filter, promisifier, multiArgs);
        }
    }

    return promisifyAll(target, suffix, filter, promisifier, multiArgs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.props" id="apidoc.element.node-horseman.HorsemanPromise.props">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>props
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">props = function (promises) {
    return props(promises);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .waitForSelector(selector)
  .then(function() {
    return {
      w: self.width(selector),
      h: self.height(selector)
    };
  })
  .<span class="apidocCodeKeywordSpan">props</span>();
});

var horseman = new Horseman();
horseman
.open('http://example.org')
.size('body')
.log() // { w: 400, h: 240 }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.race" id="apidoc.element.node-horseman.HorsemanPromise.race">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function (promises) {
    return race(promises, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.reduce" id="apidoc.element.node-horseman.HorsemanPromise.reduce">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>reduce
        <span class="apidocSignatureSpan">(promises, fn, initialValue, _each)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function (promises, fn, initialValue, _each) {
    return reduce(promises, fn, initialValue, _each);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var checkKey = function(key) {
			if (key in modifiers) { return; }
			debug(key + 'is not a supported key modifier');
		};
		if (!modifierString) { return modifier; }
		var keys = modifierString.split('+');
		keys.forEach(checkKey);
		return keys.<span class="apidocCodeKeywordSpan">reduce</span>(function(acc, key) {
			return acc | modifiers[key];
		}, modifier);
	}

	var modifiers = computeModifier(options &amp;&amp; options.modifiers);
	var opts = defaults(options || {}, DEFAULTS);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.reject" id="apidoc.element.node-horseman.HorsemanPromise.reject">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>reject
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (reason) {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._rejectCallback(reason, true);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return HorsemanPromise.fromCallback(function(done) {
				args.push(done);
				return self.page.open.apply(self.page, args);
			})
			.tap(function checkStatus(status) {
				if (status !== 'success') {
					var err = new Error('Failed to ' + meth + ' url: ' + url);
					return HorsemanPromise.<span class="apidocCodeKeywordSpan">reject</span>(err);
				}
			})
			.tap(function waitFoLoadFinished() {
				// Make sure page injecting is done
				return loaded;
			});
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.rejected" id="apidoc.element.node-horseman.HorsemanPromise.rejected">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>rejected
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rejected = function (reason) {
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._rejectCallback(reason, true);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.resolve" id="apidoc.element.node-horseman.HorsemanPromise.resolve">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>resolve
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (obj) {
    var ret = tryConvertToPromise(obj);
    if (!(ret instanceof Promise)) {
        ret = new Promise(INTERNAL);
        ret._captureStackTrace();
        ret._setFulfilled();
        ret._rejectionHandler0 = obj;
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.setScheduler" id="apidoc.element.node-horseman.HorsemanPromise.setScheduler">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>setScheduler
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setScheduler = function (fn) {
    if (typeof fn !== "function") {
        throw new TypeError("expecting a function but got " + util.classString(fn));
    }
    return async.setScheduler(fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.settle" id="apidoc.element.node-horseman.HorsemanPromise.settle">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">settle = function (promises) {
    debug.deprecated(".settle()", ".reflect()");
    return new SettledPromiseArray(promises).promise();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.some" id="apidoc.element.node-horseman.HorsemanPromise.some">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>some
        <span class="apidocSignatureSpan">(promises, howMany)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function (promises, howMany) {
    return some(promises, howMany);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.spawn" id="apidoc.element.node-horseman.HorsemanPromise.spawn">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>spawn
        <span class="apidocSignatureSpan">(generatorFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spawn = function (generatorFunction) {
    debug.deprecated("Promise.spawn()", "Promise.coroutine()");
    if (typeof generatorFunction !== "function") {
        return apiRejection("generatorFunction must be a function\u000a\u000a    See http://goo.gl/MqrFmX\u000a");
    }
    var spawn = new PromiseSpawn(generatorFunction, this);
    var ret = spawn.promise();
    spawn._run(Promise.spawn);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.try" id="apidoc.element.node-horseman.HorsemanPromise.try">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>try
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">try = function (fn) {
    if (typeof fn !== "function") {
        return apiRejection("expecting a function but got " + util.classString(fn));
    }
    var ret = new Promise(INTERNAL);
    ret._captureStackTrace();
    ret._pushContext();
    var value;
    if (arguments.length &gt; 1) {
        debug.deprecated("calling Promise.try with more than 1 argument");
        var arg = arguments[1];
        var ctx = arguments[2];
        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)
                                  : tryCatch(fn).call(ctx, arg);
    } else {
        value = tryCatch(fn)();
    }
    var promiseCreated = ret._popContext();
    debug.checkForgottenReturns(
        value, promiseCreated, "Promise.try", ret);
    ret._resolveFromSyncValue(value);
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.using" id="apidoc.element.node-horseman.HorsemanPromise.using">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.</span>using
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">using = function () {
    var len = arguments.length;
    if (len &lt; 2) return apiRejection(
                    "you must pass at least 2 arguments to Promise.using");
    var fn = arguments[len - 1];
    if (typeof fn !== "function") {
        return apiRejection("expecting a function but got " + util.classString(fn));
    }
    var input;
    var spreadArgs = true;
    if (len === 2 &amp;&amp; Array.isArray(arguments[0])) {
        input = arguments[0];
        len = input.length;
        spreadArgs = false;
    } else {
        input = arguments;
        len--;
    }
    var resources = new ResourceList(len);
    for (var i = 0; i &lt; len; ++i) {
        var resource = input[i];
        if (Disposer.isDisposer(resource)) {
            var disposer = resource;
            resource = resource.promise();
            resource._setDisposable(disposer);
        } else {
            var maybePromise = tryConvertToPromise(resource);
            if (maybePromise instanceof Promise) {
                resource =
                    maybePromise._then(maybeUnwrapDisposer, null, null, {
                        resources: resources,
                        index: i
                }, undefined);
            }
        }
        resources[i] = resource;
    }

    var reflectedResources = new Array(resources.length);
    for (var i = 0; i &lt; reflectedResources.length; ++i) {
        reflectedResources[i] = Promise.resolve(resources[i]).reflect();
    }

    var resultPromise = Promise.all(reflectedResources)
        .then(function(inspections) {
            for (var i = 0; i &lt; inspections.length; ++i) {
                var inspection = inspections[i];
                if (inspection.isRejected()) {
                    errorObj.e = inspection.error();
                    return errorObj;
                } else if (!inspection.isFulfilled()) {
                    resultPromise.cancel();
                    return;
                }
                inspections[i] = inspection.value();
            }
            promise._pushContext();

            fn = tryCatch(fn);
            var ret = spreadArgs
                ? fn.apply(undefined, inspections) : fn(inspections);
            var promiseCreated = promise._popContext();
            debug.checkForgottenReturns(
                ret, promiseCreated, "Promise.using", promise);
            return ret;
        });

    var promise = resultPromise.lastly(function() {
        var inspection = new Promise.PromiseInspection(resultPromise);
        return dispose(resources, inspection);
    });
    resources.promise = promise;
    promise._setOnCancel(resources);
    return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman.HorsemanPromise.prototype" id="apidoc.module.node-horseman.HorsemanPromise.prototype">module node-horseman.HorsemanPromise.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.__evaluate" id="apidoc.element.node-horseman.HorsemanPromise.prototype.__evaluate">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>__evaluate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__evaluate = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {number} [height]
 */
exports.viewport = function(width, height) {
	var self = this;
	if (!width) {
		debug('.viewport() get');
		return this.ready.then(function() {
			return self.<span class="apidocCodeKeywordSpan">__evaluate</span>(function getViewport() {
				return {
					width: window.innerWidth,
					height: window.innerHeight
				};
			});
		});
	} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.__isCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype.__isCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>__isCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__isCancelled = function () {
    return (this._bitField &amp; 65536) === 65536;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._addCallbacks" id="apidoc.element.node-horseman.HorsemanPromise.prototype._addCallbacks">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_addCallbacks
        <span class="apidocSignatureSpan">( fulfill, reject, promise, receiver, domain )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_addCallbacks = function ( fulfill, reject, promise, receiver, domain ) {
    var index = this._length();

    if (index &gt;= 65535 - 4) {
        index = 0;
        this._setLength(0);
    }

    if (index === 0) {
        this._promise0 = promise;
        this._receiver0 = receiver;
        if (typeof fulfill === "function") {
            this._fulfillmentHandler0 =
                domain === null ? fulfill : util.domainBind(domain, fulfill);
        }
        if (typeof reject === "function") {
            this._rejectionHandler0 =
                domain === null ? reject : util.domainBind(domain, reject);
        }
    } else {
        var base = index * 4 - 4;
        this[base + 2] = promise;
        this[base + 3] = receiver;
        if (typeof fulfill === "function") {
            this[base + 0] =
                domain === null ? fulfill : util.domainBind(domain, fulfill);
        }
        if (typeof reject === "function") {
            this[base + 1] =
                domain === null ? reject : util.domainBind(domain, reject);
        }
    }
    this._setLength(index + 1);
    return index;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._attachCancellationCallback" id="apidoc.element.node-horseman.HorsemanPromise.prototype._attachCancellationCallback">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_attachCancellationCallback
        <span class="apidocSignatureSpan">(onCancel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_attachCancellationCallback = function (onCancel) {
    ;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._attachExtraTrace" id="apidoc.element.node-horseman.HorsemanPromise.prototype._attachExtraTrace">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_attachExtraTrace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_attachExtraTrace = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._boundValue" id="apidoc.element.node-horseman.HorsemanPromise.prototype._boundValue">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_boundValue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_boundValue = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._branchHasCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._branchHasCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_branchHasCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_branchHasCancelled = function () {
    this._branchesRemainingToCancel--;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._cancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_cancel = function () {
    if (!this._isCancellable()) return;
    this._setCancelled();
    async.invoke(this._cancelPromises, this, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBranched" id="apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBranched">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelBranched
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_cancelBranched = function () {
    if (this._enoughBranchesHaveCancelled()) {
        this._cancel();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBy" id="apidoc.element.node-horseman.HorsemanPromise.prototype._cancelBy">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelBy
        <span class="apidocSignatureSpan">(canceller)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_cancelBy = function (canceller) {
    if (canceller === this) {
        this._branchesRemainingToCancel = 0;
        this._invokeOnCancel();
        return true;
    } else {
        this._branchHasCancelled();
        if (this._enoughBranchesHaveCancelled()) {
            this._invokeOnCancel();
            return true;
        }
    }
    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._cancelPromises" id="apidoc.element.node-horseman.HorsemanPromise.prototype._cancelPromises">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_cancelPromises
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_cancelPromises = function () {
    if (this._length() &gt; 0) this._settlePromises();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._captureStackTrace" id="apidoc.element.node-horseman.HorsemanPromise.prototype._captureStackTrace">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_captureStackTrace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_captureStackTrace = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._clearCallbackDataAtIndex" id="apidoc.element.node-horseman.HorsemanPromise.prototype._clearCallbackDataAtIndex">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_clearCallbackDataAtIndex
        <span class="apidocSignatureSpan">(index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_clearCallbackDataAtIndex = function (index) {
    var base = index * 4 - 4;
    this[base + 2] =
    this[base + 3] =
    this[base + 0] =
    this[base + 1] = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._clearCancellationData" id="apidoc.element.node-horseman.HorsemanPromise.prototype._clearCancellationData">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_clearCancellationData
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_clearCancellationData = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._doInvokeOnCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._doInvokeOnCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_doInvokeOnCancel
        <span class="apidocSignatureSpan">(onCancelCallback, internalOnly)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_doInvokeOnCancel = function (onCancelCallback, internalOnly) {
    if (util.isArray(onCancelCallback)) {
        for (var i = 0; i &lt; onCancelCallback.length; ++i) {
            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);
        }
    } else if (onCancelCallback !== undefined) {
        if (typeof onCancelCallback === "function") {
            if (!internalOnly) {
                var e = tryCatch(onCancelCallback).call(this._boundValue());
                if (e === errorObj) {
                    this._attachExtraTrace(e.e);
                    async.throwLater(e.e);
                }
            }
        } else {
            onCancelCallback._resultCancelled(this);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._enoughBranchesHaveCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._enoughBranchesHaveCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_enoughBranchesHaveCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_enoughBranchesHaveCancelled = function () {
    return this._branchesRemainingToCancel === undefined ||
           this._branchesRemainingToCancel &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._ensurePossibleRejectionHandled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._ensurePossibleRejectionHandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_ensurePossibleRejectionHandled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ensurePossibleRejectionHandled = function () {
    if ((this._bitField &amp; 524288) !== 0) return;
    this._setRejectionIsUnhandled();
    async.invokeLater(this._notifyUnhandledRejection, this, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._execute" id="apidoc.element.node-horseman.HorsemanPromise.prototype._execute">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_execute
        <span class="apidocSignatureSpan">(executor, resolve, reject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_execute = function (executor, resolve, reject) {
    try {
        executor(resolve, reject);
    } catch (e) {
        return e;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fireEvent" id="apidoc.element.node-horseman.HorsemanPromise.prototype._fireEvent">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fireEvent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defaultFireEvent() { return false; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._followee" id="apidoc.element.node-horseman.HorsemanPromise.prototype._followee">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_followee
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_followee = function () {
    return this._rejectionHandler0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfill" id="apidoc.element.node-horseman.HorsemanPromise.prototype._fulfill">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfill
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fulfill = function (value) {
    var bitField = this._bitField;
    if (((bitField &amp; 117506048) &gt;&gt;&gt; 16)) return;
    if (value === this) {
        var err = makeSelfResolutionError();
        this._attachExtraTrace(err);
        return this._reject(err);
    }
    this._setFulfilled();
    this._rejectionHandler0 = value;

    if ((bitField &amp; 65535) &gt; 0) {
        if (((bitField &amp; 134217728) !== 0)) {
            this._settlePromises();
        } else {
            async.settlePromises(this);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillPromises" id="apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillPromises">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfillPromises
        <span class="apidocSignatureSpan">(len, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fulfillPromises = function (len, value) {
    for (var i = 1; i &lt; len; i++) {
        var handler = this._fulfillmentHandlerAt(i);
        var promise = this._promiseAt(i);
        var receiver = this._receiverAt(i);
        this._clearCallbackDataAtIndex(i);
        this._settlePromise(promise, handler, receiver, value);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillmentHandlerAt" id="apidoc.element.node-horseman.HorsemanPromise.prototype._fulfillmentHandlerAt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_fulfillmentHandlerAt
        <span class="apidocSignatureSpan">(index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_fulfillmentHandlerAt = function (index) {
    return this[
            index * 4 - 4 + 0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._getDisposer" id="apidoc.element.node-horseman.HorsemanPromise.prototype._getDisposer">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_getDisposer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getDisposer = function () {
    return this._disposer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._invokeInternalOnCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._invokeInternalOnCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_invokeInternalOnCancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_invokeInternalOnCancel = function () {
    if (this._isCancellable()) {
        this._doInvokeOnCancel(this._onCancel(), true);
        this._unsetOnCancel();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._invokeOnCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._invokeOnCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_invokeOnCancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_invokeOnCancel = function () {
    var onCancelCallback = this._onCancel();
    this._unsetOnCancel();
    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isBound" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isBound">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isBound
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isBound = function () {
    return (this._bitField &amp; 2097152) === 2097152;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isCancellable" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isCancellable">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isCancellable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isCancellable = function () {
    return this.isPending() &amp;&amp; !this._isCancelled();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isCancelled = function () {
    return this._target().__isCancelled();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isDisposable" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isDisposable">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isDisposable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isDisposable = function () {
    return (this._bitField &amp; 131072) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFateSealed" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isFateSealed">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFateSealed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isFateSealed = function () {
    return (this._bitField &amp; 117506048) !== 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFinal" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isFinal">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFinal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isFinal = function () {
    return (this._bitField &amp; 4194304) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isFollowing" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isFollowing">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isFollowing
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isFollowing = function () {
    return (this._bitField &amp; 67108864) === 67108864;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isRejectionUnhandled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isRejectionUnhandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isRejectionUnhandled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isRejectionUnhandled = function () {
    return (this._bitField &amp; 1048576) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._isUnhandledRejectionNotified" id="apidoc.element.node-horseman.HorsemanPromise.prototype._isUnhandledRejectionNotified">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_isUnhandledRejectionNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isUnhandledRejectionNotified = function () {
    return (this._bitField &amp; 262144) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._length" id="apidoc.element.node-horseman.HorsemanPromise.prototype._length">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_length
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_length = function () {
    return this._bitField &amp; 65535;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallback0" id="apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallback0">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_migrateCallback0
        <span class="apidocSignatureSpan">(follower)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_migrateCallback0 = function (follower) {
    var bitField = follower._bitField;
    var fulfill = follower._fulfillmentHandler0;
    var reject = follower._rejectionHandler0;
    var promise = follower._promise0;
    var receiver = follower._receiverAt(0);
    if (receiver === undefined) receiver = UNDEFINED_BINDING;
    this._addCallbacks(fulfill, reject, promise, receiver, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallbackAt" id="apidoc.element.node-horseman.HorsemanPromise.prototype._migrateCallbackAt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_migrateCallbackAt
        <span class="apidocSignatureSpan">(follower, index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_migrateCallbackAt = function (follower, index) {
    var fulfill = follower._fulfillmentHandlerAt(index);
    var reject = follower._rejectionHandlerAt(index);
    var promise = follower._promiseAt(index);
    var receiver = follower._receiverAt(index);
    if (receiver === undefined) receiver = UNDEFINED_BINDING;
    this._addCallbacks(fulfill, reject, promise, receiver, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejection" id="apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejection">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_notifyUnhandledRejection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_notifyUnhandledRejection = function () {
    if (this._isRejectionUnhandled()) {
        var reason = this._settledValue();
        this._setUnhandledRejectionIsNotified();
        fireRejectionEvent("unhandledRejection",
                                      possiblyUnhandledRejection, reason, this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejectionIsHandled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._notifyUnhandledRejectionIsHandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_notifyUnhandledRejectionIsHandled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_notifyUnhandledRejectionIsHandled = function () {
    fireRejectionEvent("rejectionHandled",
                                  unhandledRejectionHandled, undefined, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._onCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._onCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_onCancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onCancel = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._passThrough" id="apidoc.element.node-horseman.HorsemanPromise.prototype._passThrough">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_passThrough
        <span class="apidocSignatureSpan">(handler, type, success, fail)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_passThrough = function (handler, type, success, fail) {
    if (typeof handler !== "function") return this.then();
    return this._then(success,
                      fail,
                      undefined,
                      new PassThroughHandlerContext(this, type, handler),
                      undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._peekContext" id="apidoc.element.node-horseman.HorsemanPromise.prototype._peekContext">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_peekContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_peekContext = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._popContext" id="apidoc.element.node-horseman.HorsemanPromise.prototype._popContext">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_popContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_popContext = function () {return null;}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._promiseAt" id="apidoc.element.node-horseman.HorsemanPromise.prototype._promiseAt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_promiseAt
        <span class="apidocSignatureSpan">(index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_promiseAt = function (index) {
    return this[
            index * 4 - 4 + 2];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._promiseCreated" id="apidoc.element.node-horseman.HorsemanPromise.prototype._promiseCreated">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_promiseCreated
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_promiseCreated = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._propagateFrom" id="apidoc.element.node-horseman.HorsemanPromise.prototype._propagateFrom">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_propagateFrom
        <span class="apidocSignatureSpan">(parent, flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_propagateFrom = function (parent, flags) {
    ;
    ;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._proxy" id="apidoc.element.node-horseman.HorsemanPromise.prototype._proxy">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_proxy
        <span class="apidocSignatureSpan">(proxyable, arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_proxy = function (proxyable, arg) {
    this._addCallbacks(undefined, undefined, arg, proxyable, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._pushContext" id="apidoc.element.node-horseman.HorsemanPromise.prototype._pushContext">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_pushContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushContext = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._reason" id="apidoc.element.node-horseman.HorsemanPromise.prototype._reason">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_reason
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_reason = function () {
    this._unsetRejectionIsUnhandled();
    return this._settledValue();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._receiverAt" id="apidoc.element.node-horseman.HorsemanPromise.prototype._receiverAt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_receiverAt
        <span class="apidocSignatureSpan">(index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_receiverAt = function (index) {
    var ret = index === 0 ? this._receiver0 : this[
            index * 4 - 4 + 3];
    if (ret === UNDEFINED_BINDING) {
        return undefined;
    } else if (ret === undefined &amp;&amp; this._isBound()) {
        return this._boundValue();
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._reject" id="apidoc.element.node-horseman.HorsemanPromise.prototype._reject">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_reject
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_reject = function (reason) {
    var bitField = this._bitField;
    if (((bitField &amp; 117506048) &gt;&gt;&gt; 16)) return;
    this._setRejected();
    this._fulfillmentHandler0 = reason;

    if (this._isFinal()) {
        return async.fatalError(reason, util.isNode);
    }

    if ((bitField &amp; 65535) &gt; 0) {
        async.settlePromises(this);
    } else {
        this._ensurePossibleRejectionHandled();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectCallback" id="apidoc.element.node-horseman.HorsemanPromise.prototype._rejectCallback">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectCallback
        <span class="apidocSignatureSpan">(reason, synchronous, ignoreNonErrorWarnings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_rejectCallback = function (reason, synchronous, ignoreNonErrorWarnings) {
    var trace = util.ensureErrorObject(reason);
    var hasStack = trace === reason;
    if (!hasStack &amp;&amp; !ignoreNonErrorWarnings &amp;&amp; debug.warnings()) {
        var message = "a promise was rejected with a non-error: " +
            util.classString(reason);
        this._warn(message, true);
    }
    this._attachExtraTrace(trace, synchronous ? hasStack : false);
    this._reject(reason);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectPromises" id="apidoc.element.node-horseman.HorsemanPromise.prototype._rejectPromises">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectPromises
        <span class="apidocSignatureSpan">(len, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_rejectPromises = function (len, reason) {
    for (var i = 1; i &lt; len; i++) {
        var handler = this._rejectionHandlerAt(i);
        var promise = this._promiseAt(i);
        var receiver = this._receiverAt(i);
        this._clearCallbackDataAtIndex(i);
        this._settlePromise(promise, handler, receiver, reason);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._rejectionHandlerAt" id="apidoc.element.node-horseman.HorsemanPromise.prototype._rejectionHandlerAt">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_rejectionHandlerAt
        <span class="apidocSignatureSpan">(index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_rejectionHandlerAt = function (index) {
    return this[
            index * 4 - 4 + 1];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveCallback" id="apidoc.element.node-horseman.HorsemanPromise.prototype._resolveCallback">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveCallback
        <span class="apidocSignatureSpan">(value, shouldBind)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveCallback = function (value, shouldBind) {
    if (((this._bitField &amp; 117506048) !== 0)) return;
    if (value === this)
        return this._rejectCallback(makeSelfResolutionError(), false);
    var maybePromise = tryConvertToPromise(value, this);
    if (!(maybePromise instanceof Promise)) return this._fulfill(value);

    if (shouldBind) this._propagateFrom(maybePromise, 2);

    var promise = maybePromise._target();

    if (promise === this) {
        this._reject(makeSelfResolutionError());
        return;
    }

    var bitField = promise._bitField;
    if (((bitField &amp; 50397184) === 0)) {
        var len = this._length();
        if (len &gt; 0) promise._migrateCallback0(this);
        for (var i = 1; i &lt; len; ++i) {
            promise._migrateCallbackAt(this, i);
        }
        this._setFollowing();
        this._setLength(0);
        this._setFollowee(promise);
    } else if (((bitField &amp; 33554432) !== 0)) {
        this._fulfill(promise._value());
    } else if (((bitField &amp; 16777216) !== 0)) {
        this._reject(promise._reason());
    } else {
        var reason = new CancellationError("late cancellation observer");
        promise._attachExtraTrace(reason);
        this._reject(reason);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromExecutor" id="apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromExecutor">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveFromExecutor
        <span class="apidocSignatureSpan">(executor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveFromExecutor = function (executor) {
    if (executor === INTERNAL) return;
    var promise = this;
    this._captureStackTrace();
    this._pushContext();
    var synchronous = true;
    var r = this._execute(executor, function(value) {
        promise._resolveCallback(value);
    }, function (reason) {
        promise._rejectCallback(reason, synchronous);
    });
    synchronous = false;
    this._popContext();

    if (r !== undefined) {
        promise._rejectCallback(r, true);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromSyncValue" id="apidoc.element.node-horseman.HorsemanPromise.prototype._resolveFromSyncValue">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resolveFromSyncValue
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveFromSyncValue = function (value) {
    if (value === util.errorObj) {
        this._rejectCallback(value.e, false);
    } else {
        this._resolveCallback(value, true);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._resultCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._resultCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_resultCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resultCancelled = function () {
    this.cancel();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._returnedNonUndefined" id="apidoc.element.node-horseman.HorsemanPromise.prototype._returnedNonUndefined">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_returnedNonUndefined
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_returnedNonUndefined = function () {
    return (this._bitField &amp; 268435456) !== 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setAsyncGuaranteed" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setAsyncGuaranteed">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setAsyncGuaranteed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setAsyncGuaranteed = function () {
    if (async.hasCustomScheduler()) return;
    this._bitField = this._bitField | 134217728;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setBoundTo" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setBoundTo">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setBoundTo
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setBoundTo = function (obj) {
    if (obj !== undefined) {
        this._bitField = this._bitField | 2097152;
        this._boundTo = obj;
    } else {
        this._bitField = this._bitField &amp; (~2097152);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setCancelled = function () {
    this._bitField = this._bitField | 65536;
    this._fireEvent("promiseCancelled", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setDisposable" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setDisposable">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setDisposable
        <span class="apidocSignatureSpan">(disposer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setDisposable = function (disposer) {
    this._bitField = this._bitField | 131072;
    this._disposer = disposer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowee" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowee">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFollowee
        <span class="apidocSignatureSpan">(promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setFollowee = function (promise) {
    this._rejectionHandler0 = promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowing" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setFollowing">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFollowing
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setFollowing = function () {
    this._bitField = this._bitField | 67108864;
    this._fireEvent("promiseResolved", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setFulfilled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setFulfilled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setFulfilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setFulfilled = function () {
    this._bitField = this._bitField | 33554432;
    this._fireEvent("promiseFulfilled", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setIsFinal" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setIsFinal">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setIsFinal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setIsFinal = function () {
    this._bitField = this._bitField | 4194304;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setLength" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setLength">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setLength
        <span class="apidocSignatureSpan">(len)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setLength = function (len) {
    this._bitField = (this._bitField &amp; -65536) |
        (len &amp; 65535);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setOnCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setOnCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setOnCancel
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setOnCancel = function (handler) { ; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setRejected" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setRejected">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setRejected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setRejected = function () {
    this._bitField = this._bitField | 16777216;
    this._fireEvent("promiseRejected", this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setRejectionIsUnhandled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setRejectionIsUnhandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setRejectionIsUnhandled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setRejectionIsUnhandled = function () {
    this._bitField = this._bitField | 1048576;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setReturnedNonUndefined" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setReturnedNonUndefined">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setReturnedNonUndefined
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setReturnedNonUndefined = function () {
    this._bitField = this._bitField | 268435456;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setUnhandledRejectionIsNotified" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setUnhandledRejectionIsNotified">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setUnhandledRejectionIsNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setUnhandledRejectionIsNotified = function () {
    this._bitField = this._bitField | 262144;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._setWillBeCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._setWillBeCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_setWillBeCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setWillBeCancelled = function () {
    this._bitField = this._bitField | 8388608;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromise
        <span class="apidocSignatureSpan">(promise, handler, receiver, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromise = function (promise, handler, receiver, value) {
    var isPromise = promise instanceof Promise;
    var bitField = this._bitField;
    var asyncGuaranteed = ((bitField &amp; 134217728) !== 0);
    if (((bitField &amp; 65536) !== 0)) {
        if (isPromise) promise._invokeInternalOnCancel();

        if (receiver instanceof PassThroughHandlerContext &amp;&amp;
            receiver.isFinallyHandler()) {
            receiver.cancelPromise = promise;
            if (tryCatch(handler).call(receiver, value) === errorObj) {
                promise._reject(errorObj.e);
            }
        } else if (handler === reflectHandler) {
            promise._fulfill(reflectHandler.call(receiver));
        } else if (receiver instanceof Proxyable) {
            receiver._promiseCancelled(promise);
        } else if (isPromise || promise instanceof PromiseArray) {
            promise._cancel();
        } else {
            receiver.cancel();
        }
    } else if (typeof handler === "function") {
        if (!isPromise) {
            handler.call(receiver, value, promise);
        } else {
            if (asyncGuaranteed) promise._setAsyncGuaranteed();
            this._settlePromiseFromHandler(handler, receiver, value, promise);
        }
    } else if (receiver instanceof Proxyable) {
        if (!receiver._isResolved()) {
            if (((bitField &amp; 33554432) !== 0)) {
                receiver._promiseFulfilled(value, promise);
            } else {
                receiver._promiseRejected(value, promise);
            }
        }
    } else if (isPromise) {
        if (asyncGuaranteed) promise._setAsyncGuaranteed();
        if (((bitField &amp; 33554432) !== 0)) {
            promise._fulfill(value);
        } else {
            promise._reject(value);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise0" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromise0">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromise0
        <span class="apidocSignatureSpan">(handler, value, bitField)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromise0 = function (handler, value, bitField) {
    var promise = this._promise0;
    var receiver = this._receiverAt(0);
    this._promise0 = undefined;
    this._receiver0 = undefined;
    this._settlePromise(promise, handler, receiver, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseCtx" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseCtx">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseCtx
        <span class="apidocSignatureSpan">(ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromiseCtx = function (ctx) {
    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseFromHandler" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseFromHandler">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseFromHandler
        <span class="apidocSignatureSpan">( handler, receiver, value, promise )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromiseFromHandler = function ( handler, receiver, value, promise ) {
    var bitField = promise._bitField;
    if (((bitField &amp; 65536) !== 0)) return;
    promise._pushContext();
    var x;
    if (receiver === APPLY) {
        if (!value || typeof value.length !== "number") {
            x = errorObj;
            x.e = new TypeError("cannot .spread() a non-array: " +
                                    util.classString(value));
        } else {
            x = tryCatch(handler).apply(this._boundValue(), value);
        }
    } else {
        x = tryCatch(handler).call(receiver, value);
    }
    var promiseCreated = promise._popContext();
    bitField = promise._bitField;
    if (((bitField &amp; 65536) !== 0)) return;

    if (x === NEXT_FILTER) {
        promise._reject(value);
    } else if (x === errorObj) {
        promise._rejectCallback(x.e, false);
    } else {
        debug.checkForgottenReturns(x, promiseCreated, "",  promise, this);
        promise._resolveCallback(x);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseLateCancellationObserver" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromiseLateCancellationObserver">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromiseLateCancellationObserver
        <span class="apidocSignatureSpan">(ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromiseLateCancellationObserver = function (ctx) {
    var handler = ctx.handler;
    var promise = ctx.promise;
    var receiver = ctx.receiver;
    var value = ctx.value;
    if (typeof handler === "function") {
        if (!(promise instanceof Promise)) {
            handler.call(receiver, value, promise);
        } else {
            this._settlePromiseFromHandler(handler, receiver, value, promise);
        }
    } else if (promise instanceof Promise) {
        promise._reject(value);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromises" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settlePromises">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settlePromises
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settlePromises = function () {
    var bitField = this._bitField;
    var len = (bitField &amp; 65535);

    if (len &gt; 0) {
        if (((bitField &amp; 16842752) !== 0)) {
            var reason = this._fulfillmentHandler0;
            this._settlePromise0(this._rejectionHandler0, reason, bitField);
            this._rejectPromises(len, reason);
        } else {
            var value = this._rejectionHandler0;
            this._settlePromise0(this._fulfillmentHandler0, value, bitField);
            this._fulfillPromises(len, value);
        }
        this._setLength(0);
    }
    this._clearCancellationData();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._settledValue" id="apidoc.element.node-horseman.HorsemanPromise.prototype._settledValue">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_settledValue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_settledValue = function () {
    var bitField = this._bitField;
    if (((bitField &amp; 33554432) !== 0)) {
        return this._rejectionHandler0;
    } else if (((bitField &amp; 16777216) !== 0)) {
        return this._fulfillmentHandler0;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._target" id="apidoc.element.node-horseman.HorsemanPromise.prototype._target">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_target
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_target = function () {
    var ret = this;
    while (ret._isFollowing()) ret = ret._followee();
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._then" id="apidoc.element.node-horseman.HorsemanPromise.prototype._then">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_then
        <span class="apidocSignatureSpan">( didFulfill, didReject, _, receiver, internalData )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_then = function ( didFulfill, didReject, _, receiver, internalData ) {
    var haveInternalData = internalData !== undefined;
    var promise = haveInternalData ? internalData : new Promise(INTERNAL);
    var target = this._target();
    var bitField = target._bitField;

    if (!haveInternalData) {
        promise._propagateFrom(this, 3);
        promise._captureStackTrace();
        if (receiver === undefined &amp;&amp;
            ((this._bitField &amp; 2097152) !== 0)) {
            if (!((bitField &amp; 50397184) === 0)) {
                receiver = this._boundValue();
            } else {
                receiver = target === this ? undefined : this._boundTo;
            }
        }
        this._fireEvent("promiseChained", this, promise);
    }

    var domain = getDomain();
    if (!((bitField &amp; 50397184) === 0)) {
        var handler, value, settler = target._settlePromiseCtx;
        if (((bitField &amp; 33554432) !== 0)) {
            value = target._rejectionHandler0;
            handler = didFulfill;
        } else if (((bitField &amp; 16777216) !== 0)) {
            value = target._fulfillmentHandler0;
            handler = didReject;
            target._unsetRejectionIsUnhandled();
        } else {
            settler = target._settlePromiseLateCancellationObserver;
            value = new CancellationError("late cancellation observer");
            target._attachExtraTrace(value);
            handler = didReject;
        }

        async.invoke(settler, target, {
            handler: domain === null ? handler
                : (typeof handler === "function" &amp;&amp;
                    util.domainBind(domain, handler)),
            promise: promise,
            receiver: receiver,
            value: value
        });
    } else {
        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);
    }

    return promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._unsetCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unsetCancelled = function () {
    this._bitField = this._bitField &amp; (~65536);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetDisposable" id="apidoc.element.node-horseman.HorsemanPromise.prototype._unsetDisposable">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetDisposable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unsetDisposable = function () {
    this._bitField = this._bitField &amp; (~131072);
    this._disposer = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetOnCancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype._unsetOnCancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetOnCancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unsetOnCancel = function () {
    this._onCancelField = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetRejectionIsUnhandled" id="apidoc.element.node-horseman.HorsemanPromise.prototype._unsetRejectionIsUnhandled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetRejectionIsUnhandled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unsetRejectionIsUnhandled = function () {
    this._bitField = this._bitField &amp; (~1048576);
    if (this._isUnhandledRejectionNotified()) {
        this._unsetUnhandledRejectionIsNotified();
        this._notifyUnhandledRejectionIsHandled();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._unsetUnhandledRejectionIsNotified" id="apidoc.element.node-horseman.HorsemanPromise.prototype._unsetUnhandledRejectionIsNotified">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_unsetUnhandledRejectionIsNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unsetUnhandledRejectionIsNotified = function () {
    this._bitField = this._bitField &amp; (~262144);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._value" id="apidoc.element.node-horseman.HorsemanPromise.prototype._value">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_value
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_value = function () {
    return this._settledValue();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype._warn" id="apidoc.element.node-horseman.HorsemanPromise.prototype._warn">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>_warn
        <span class="apidocSignatureSpan">(message, shouldUseOwnTrace, promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_warn = function (message, shouldUseOwnTrace, promise) {
    return warn(message, shouldUseOwnTrace, promise || this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.all" id="apidoc.element.node-horseman.HorsemanPromise.prototype.all">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>all
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function () {
    if (arguments.length &gt; 0) {
        this._warn(".all() was passed arguments but it does not take any");
    }
    return new PromiseArray(this).promise();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.any" id="apidoc.element.node-horseman.HorsemanPromise.prototype.any">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>any
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function () {
    return any(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.asCallback" id="apidoc.element.node-horseman.HorsemanPromise.prototype.asCallback">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>asCallback
        <span class="apidocSignatureSpan">(nodeback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asCallback = function (nodeback, options) {
    if (typeof nodeback == "function") {
        var adapter = successAdapter;
        if (options !== undefined &amp;&amp; Object(options).spread) {
            adapter = spreadAdapter;
        }
        this._then(
            adapter,
            errorAdapter,
            undefined,
            this,
            nodeback
        );
    }
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.at" id="apidoc.element.node-horseman.HorsemanPromise.prototype.at">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>at
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">at = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
horseman
  .on('consoleMessage', function( msg ){
    console.log(msg);
  })
```

#### .<span class="apidocCodeKeywordSpan">at</span>(event, callback)

Respond to page events with the callback.
Be sure to set these before calling `.open()`.
The `callback` is evaluated in PhantomJS.
If you do not need to return from `callback`, you probably want `.on` instead.

Useful events are:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.attribute" id="apidoc.element.node-horseman.HorsemanPromise.prototype.attribute">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>attribute
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attribute = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .value(selector, \[val\])

Get, or set, the value of an element.

#### .<span class="apidocCodeKeywordSpan">attribute</span>(selector, attribute)

Gets an attribute of an element.

#### .cssProperty(selector, property)

Gets a CSS property of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.authentication" id="apidoc.element.node-horseman.HorsemanPromise.prototype.authentication">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>authentication
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authentication = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

#### .headers(headers)

Set the `headers` used when requesting a page.
The headers are a javascript object.
You have to set the headers before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">authentication</span>(user, password)

Set the `user` and `password` for accessing a web page
using basic authentication.
Be sure to set it before calling `.open(url)`.

```js
horseman
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.back" id="apidoc.element.node-horseman.HorsemanPromise.prototype.back">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>back
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">back = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

POST `postData` to the page at `url`.

#### .put(url, putData)

PUT `putData` to the page at `url`.

#### .<span class="apidocCodeKeywordSpan">back</span>()

Go back to the previous page.

#### .forward()

Go forward to the next page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.bind" id="apidoc.element.node-horseman.HorsemanPromise.prototype.bind">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>bind
        <span class="apidocSignatureSpan">(thisArg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bind = function (thisArg) {
    if (!calledBind) {
        calledBind = true;
        Promise.prototype._propagateFrom = debug.propagateFromFunction();
        Promise.prototype._boundValue = debug.boundValueFunction();
    }
    var maybePromise = tryConvertToPromise(thisArg);
    var ret = new Promise(INTERNAL);
    ret._propagateFrom(this, 1);
    var target = this._target();
    ret._setBoundTo(maybePromise);
    if (maybePromise instanceof Promise) {
        var context = {
            promiseRejectionQueued: false,
            promise: ret,
            target: target,
            bindingPromise: maybePromise
        };
        target._then(INTERNAL, targetRejected, undefined, ret, context);
        maybePromise._then(
            bindingResolved, bindingRejected, undefined, ret, context);
        ret._setOnCancel(maybePromise);
    } else {
        ret._resolveCallback(target);
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var hasCb = args.length &lt; fn.length; // Whether fn takes a callback
	var fname = fn.name || '&lt;anonymous&gt;';

	debug.apply(debug, ['.evaluate()', fname].concat(args));
	return this.ready.then(function() {
		// Handle this.page changing
		var page = self.page;
		var evaluate = HorsemanPromise.promisify(page.evaluate).<span class="apidocCodeKeywordSpan">bind</span>(page);

		// TODO: Move evaluate wrapper to a client script?
		// Make dumy error to make evaluate rejections more debuggable
		var stack = HorsemanPromise.reject(new Error('See next line'));
		var res = evaluate(function evaluate(fnstr, hasCb, args) {
				if(!window.__horseman) {
					window.__horseman = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.boundingRectangle" id="apidoc.element.node-horseman.HorsemanPromise.prototype.boundingRectangle">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>boundingRectangle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">boundingRectangle = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.set('clipRect', prevClipRect, done);
				});
			});
	}
	if (typeof area === 'string') {
		return this
			.<span class="apidocCodeKeywordSpan">boundingRectangle</span>(area)
			.then(doCrop);
	} else {
		return doCrop(area);
	}
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.break" id="apidoc.element.node-horseman.HorsemanPromise.prototype.break">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>break
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">break = function () {
    if (!debug.cancellation()) return this._warn("cancellation is disabled");

    var promise = this;
    var child = promise;
    while (promise._isCancellable()) {
        if (!promise._cancelBy(child)) {
            if (child._isFollowing()) {
                child._followee().cancel();
            } else {
                child._cancelBranched();
            }
            break;
        }

        var parent = promise._cancellationParent;
        if (parent == null || !parent._isCancellable()) {
            if (promise._isFollowing()) {
                promise._followee().cancel();
            } else {
                promise._cancelBranched();
            }
            break;
        } else {
            if (promise._isFollowing()) promise._followee().cancel();
            promise._setWillBeCancelled();
            child = promise;
            promise = parent;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.call" id="apidoc.element.node-horseman.HorsemanPromise.prototype.call">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>call
        <span class="apidocSignatureSpan">(methodName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">call = function (methodName) {
    var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i &lt; $_len; ++$_i) {args[$_i -
1] = arguments[$_i];};
    if (!false) {
        if (canEvaluate) {
            var maybeCaller = getMethodCaller(methodName);
            if (maybeCaller !== null) {
                return this._then(
                    maybeCaller, undefined, undefined, args, undefined);
            }
        }
    }
    args.push(methodName);
    return this._then(caller, undefined, undefined, args, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Open a url in Phantom.
 * @param {string} url
 * @param {string | object} [method=GET] - HTTP method, or settings object
 * @param {string} [data]
 * @see {@link http://phantomjs.org/api/webpage/method/open.html|PhantomJS API}
 */
exports.open = function(url, method) {
	var args = Array.prototype.slice.<span class="apidocCodeKeywordSpan">call</span>(arguments);
	var self = this;
	self.targetUrl = url;

	return this.ready.then(function() {
		method = method || 'GET';
		var meth = (typeof method === 'object') ? method.operation : method;
		meth = meth.toUpperCase();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cancel" id="apidoc.element.node-horseman.HorsemanPromise.prototype.cancel">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cancel = function () {
    if (!debug.cancellation()) return this._warn("cancellation is disabled");

    var promise = this;
    var child = promise;
    while (promise._isCancellable()) {
        if (!promise._cancelBy(child)) {
            if (child._isFollowing()) {
                child._followee().cancel();
            } else {
                child._cancelBranched();
            }
            break;
        }

        var parent = promise._cancellationParent;
        if (parent == null || !parent._isCancellable()) {
            if (promise._isFollowing()) {
                promise._followee().cancel();
            } else {
                promise._cancelBranched();
            }
            break;
        } else {
            if (promise._isFollowing()) promise._followee().cancel();
            promise._setWillBeCancelled();
            child = promise;
            promise = parent;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catch" id="apidoc.element.node-horseman.HorsemanPromise.prototype.catch">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catch
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (fn) {
    var len = arguments.length;
    if (len &gt; 1) {
        var catchInstances = new Array(len - 1),
            j = 0, i;
        for (i = 0; i &lt; len - 1; ++i) {
            var item = arguments[i];
            if (util.isObject(item)) {
                catchInstances[j++] = item;
            } else {
                return apiRejection("Catch statement predicate: " +
                    "expecting an object but got " + util.classString(item));
            }
        }
        catchInstances.length = j;
        fn = arguments[i];
        return this.then(undefined, catchFilter(catchInstances, fn, this));
    }
    return this.then(undefined, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
co(function *(){
  yield horseman.open('http://www.google.com');
  var title = yield horseman.title();
  var numLinks = yield horseman.count('a');
  console.log('Title: ' + title); //Google
  console.log('Num Links: ' + numLinks); //35
  yield horseman.close();
}).<span class="apidocCodeKeywordSpan">catch</span>(function(e){
  console.log(e)
});
```

If you use yields, you may need to use the harmony flag when you run your file:

```shell-session
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catchReturn" id="apidoc.element.node-horseman.HorsemanPromise.prototype.catchReturn">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catchReturn
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catchReturn = function (value) {
    if (arguments.length &lt;= 1) {
        if (value instanceof Promise) value.suppressUnhandledRejections();
        return this._then(
            undefined, returner, undefined, {value: value}, undefined);
    } else {
        var _value = arguments[1];
        if (_value instanceof Promise) _value.suppressUnhandledRejections();
        var handler = function() {return _value;};
        return this.caught(value, handler);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.catchThrow" id="apidoc.element.node-horseman.HorsemanPromise.prototype.catchThrow">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>catchThrow
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catchThrow = function (reason) {
    if (arguments.length &lt;= 1) {
        return this._then(
            undefined, thrower, undefined, {reason: reason}, undefined);
    } else {
        var _reason = arguments[1];
        var handler = function() {throw _reason;};
        return this.caught(reason, handler);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.caught" id="apidoc.element.node-horseman.HorsemanPromise.prototype.caught">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>caught
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">caught = function (fn) {
    var len = arguments.length;
    if (len &gt; 1) {
        var catchInstances = new Array(len - 1),
            j = 0, i;
        for (i = 0; i &lt; len - 1; ++i) {
            var item = arguments[i];
            if (util.isObject(item)) {
                catchInstances[j++] = item;
            } else {
                return apiRejection("Catch statement predicate: " +
                    "expecting an object but got " + util.classString(item));
            }
        }
        catchInstances.length = j;
        fn = arguments[i];
        return this.then(undefined, catchFilter(catchInstances, fn, this));
    }
    return this.then(undefined, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.clear" id="apidoc.element.node-horseman.HorsemanPromise.prototype.clear">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>clear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Clicks the `selector` element once.

#### .select(selector, value)

Sets the value of a `select` element to `value`.

#### .<span class="apidocCodeKeywordSpan">clear</span>(selector)

Sets the value of an element to `''`.

#### .type(selector, text, \[options\])

Enters the `text` provided into the `selector` element.
Options is an object containing `eventType`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.click" id="apidoc.element.node-horseman.HorsemanPromise.prototype.click">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>click
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">click = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .<span class="apidocCodeKeywordSpan">click</span>('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.close" id="apidoc.element.node-horseman.HorsemanPromise.prototype.close">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
	var self = this;
	return this
		.finally(function() {
			return this.close();
		}).finally(function() {
			return self;
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .<span class="apidocCodeKeywordSpan">close</span>();
```

Save the file as `google.js`. Then, `node google.js`.

### Count Twitter Followers Concurrently

```js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.closeTab" id="apidoc.element.node-horseman.HorsemanPromise.prototype.closeTab">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>closeTab
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closeTab = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns the number of tabs currently open.

#### .switchToTab(tabnumber)

Switch to another tab. Count starts at 0.

#### .<span class="apidocCodeKeywordSpan">closeTab</span>(tabNum)

Close an open tab. Count starts at 0.

### Events

#### .on(event, callback)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cookies" id="apidoc.element.node-horseman.HorsemanPromise.prototype.cookies">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cookies
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cookies = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The HTTP status code returned for the page just opened.

#### .reload()

Refresh the current page.

#### .<span class="apidocCodeKeywordSpan">cookies</span>(\[object|array of objects|string\])

Without any options,
this function will return all the cookies inside the browser.

```js
horseman
.open('http://httpbin.org/cookies')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.count" id="apidoc.element.node-horseman.HorsemanPromise.prototype.count">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>count
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .<span class="apidocCodeKeywordSpan">count</span>('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.

### Count Twitter Followers Concurrently
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.crop" id="apidoc.element.node-horseman.HorsemanPromise.prototype.crop">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>crop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">crop = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Useful for debugging.

#### .screenshotBase64(type)

Returns a base64 encoded string representing the screenshot.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .<span class="apidocCodeKeywordSpan">crop</span>(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
Takes a cropped screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.

#### .cropBase64(area, type)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cropBase64" id="apidoc.element.node-horseman.HorsemanPromise.prototype.cropBase64">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cropBase64
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cropBase64 = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .crop(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
Takes a cropped screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.

#### .<span class="apidocCodeKeywordSpan">cropBase64</span>(area, type)

Returns a string representing a cropped, base64 encoded screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .pdf(path, \[paperSize\])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.cssProperty" id="apidoc.element.node-horseman.HorsemanPromise.prototype.cssProperty">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>cssProperty
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cssProperty = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get, or set, the value of an element.

#### .attribute(selector, attribute)

Gets an attribute of an element.

#### .<span class="apidocCodeKeywordSpan">cssProperty</span>(selector, property)

Gets a CSS property of an element.

#### .width(selector)

Gets the width of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.delay" id="apidoc.element.node-horseman.HorsemanPromise.prototype.delay">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>delay
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function (ms) {
    return delay(ms, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
it will be waited on and the action in Node will resolve/reject accordingly.

```js
horseman
  .open('http://en.wikipedia.org/wiki/Headless_Horseman')
  .evaluate(function() {
    // Silly example for illustrative purposes.
    return Bluebird.<span class="apidocCodeKeywordSpan">delay</span>(100).return('Hello World');
  })
  .then(function(mesg){
    // Will log 'Hello World' after a roughly 100 ms delay.
    console.log(mesg);
  })
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.disposer" id="apidoc.element.node-horseman.HorsemanPromise.prototype.disposer">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>disposer
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disposer = function (fn) {
    if (typeof fn === "function") {
        return new FunctionDisposer(fn, this, createContext());
    }
    throw new TypeError();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.do" id="apidoc.element.node-horseman.HorsemanPromise.prototype.do">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>do
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">do = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.count('a')
.log() // outputs the number of anchor tags
.click('a')
.log('clicked the button') //outputs the string
.close();
```

#### .<span class="apidocCodeKeywordSpan">do</span>(fn)

Run an function without breaking the chain. Works with asynchronous functions.
Must call the callback when complete.

```js
horseman
.open('http://www.google.com')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.done" id="apidoc.element.node-horseman.HorsemanPromise.prototype.done">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>done
        <span class="apidocSignatureSpan">(didFulfill, didReject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function (didFulfill, didReject) {
    var promise =
        this._then(didFulfill, didReject, undefined, undefined, undefined);
    promise._setIsFinal();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.download" id="apidoc.element.node-horseman.HorsemanPromise.prototype.download">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>download
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">download = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(`'keypress'`, `'keyup'`, `'keydown'`. Default is `'keypress'`)
and `modifiers`, which is a string in the form of `ctrl+shift+alt`.

#### .upload(selector, path)

Specify the `path` to upload into a file input `selector` element.

#### .<span class="apidocCodeKeywordSpan">download</span>(url, \[path\], \[binary\])

Download the contents of `url`.
If `path` is supplied the contents will be written there,
otherwise this gets the contents.
If `binary` is `true` it gets the contents as a node `Buffer`,
otherwise it gets them as a string (`binary` defaults to `false`).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.each" id="apidoc.element.node-horseman.HorsemanPromise.prototype.each">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (fn) {
    return PromiseReduce(this, fn, INTERNAL, 0)
              ._then(promiseAllThis, undefined, undefined, this, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					.fromCallback(function(done) {
						return self.phantom.clearCookies(done);
					})
					.tap(function() {
						debug('.cookies() reset');
					})
					.return(arg)
					.<span class="apidocCodeKeywordSpan">each</span>(function(cookie) {
						return HorsemanPromise.fromCallback(function(done) {
							self.phantom.addCookie(cookie, done);
						});
					});
			}
			switch (typeof arg) {
				// adding one cookie
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.error" id="apidoc.element.node-horseman.HorsemanPromise.prototype.error">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>error
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (fn) {
    return this.caught(util.originatesFromRejection, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.evaluate" id="apidoc.element.node-horseman.HorsemanPromise.prototype.evaluate">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>evaluate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">evaluate = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.open('http://www.google.com')
.do(function(done){
  setTimeout(done,1000);
})
.close();
```

#### .<span class="apidocCodeKeywordSpan">evaluate</span>(fn, \[arg1, arg2,...\])

Invokes `fn` on the page with args. On completion it returns a value.
Useful for extracting information from the page.

```js
horseman
.open('http://en.wikipedia.org/wiki/Headless_Horseman')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.exists" id="apidoc.element.node-horseman.HorsemanPromise.prototype.exists">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>exists
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the URL of the current page.

#### .visible(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.

#### .<span class="apidocCodeKeywordSpan">exists</span>(selector)

Determines if the selector exists, or not, on the page. Returns a boolean.

#### .count(selector)

Counts the number of `selector` on the page. Returns a number.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.filter" id="apidoc.element.node-horseman.HorsemanPromise.prototype.filter">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>filter
        <span class="apidocSignatureSpan">(fn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (fn, options) {
    return PromiseMap(this, fn, options, INTERNAL);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.finally" id="apidoc.element.node-horseman.HorsemanPromise.prototype.finally">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>finally
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function (handler) {
    return this._passThrough(handler,
                             0,
                             finallyHandler,
                             finallyHandler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.forward" id="apidoc.element.node-horseman.HorsemanPromise.prototype.forward">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>forward
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forward = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

PUT `putData` to the page at `url`.

#### .back()

Go back to the previous page.

#### .<span class="apidocCodeKeywordSpan">forward</span>()

Go forward to the next page.

#### .status()

The HTTP status code returned for the page just opened.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameCount" id="apidoc.element.node-horseman.HorsemanPromise.prototype.frameCount">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameCount = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### Frames

#### .frameName()

Get the name of the current frame.

#### .<span class="apidocCodeKeywordSpan">frameCount</span>()

Get the number of frames inside the current frame.

#### .frameNames()

Get the names of the frames inside the current frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameName" id="apidoc.element.node-horseman.HorsemanPromise.prototype.frameName">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameName = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`fn` : function to execute, mandatory
`args` : `fn` arguments
`value` : Wait until the `fn` evaluated on the page returns the *specified* `value`.
`timeout` : specific timeout

### Frames

#### .<span class="apidocCodeKeywordSpan">frameName</span>()

Get the name of the current frame.

#### .frameCount()

Get the number of frames inside the current frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.frameNames" id="apidoc.element.node-horseman.HorsemanPromise.prototype.frameNames">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>frameNames
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameNames = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the name of the current frame.

#### .frameCount()

Get the number of frames inside the current frame.

#### .<span class="apidocCodeKeywordSpan">frameNames</span>()

Get the names of the frames inside the current frame.

#### .switchToFocusedFrame()

Switch to the frame that is in focus.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.get" id="apidoc.element.node-horseman.HorsemanPromise.prototype.get">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>get
        <span class="apidocSignatureSpan">(propertyName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (propertyName) {
    var isIndex = (typeof propertyName === "number");
    var getter;
    if (!isIndex) {
        if (canEvaluate) {
            var maybeGetter = getGetter(propertyName);
            getter = maybeGetter !== null ? maybeGetter : namedGetter;
        } else {
            getter = namedGetter;
        }
    } else {
        getter = indexedGetter;
    }
    return this._then(getter, undefined, undefined, propertyName, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {string} [userAgent] - User agent to use.
 */
exports.userAgent = function(userAgent) {
	var self = this;
	return this.ready.then(function() {
		return new HorsemanPromise(function(resolve, reject) {
			if (!userAgent) {
				self.page.<span class="apidocCodeKeywordSpan">get</span>('settings', function(err, settings) {
					debug('.userAgent() get');
					if (err) { return reject(err); }
					return resolve(settings.userAgent);
				});
			} else {
				self.page.get('settings', function(err, settings) {
					if (err) { return reject(err); }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.headers" id="apidoc.element.node-horseman.HorsemanPromise.prototype.headers">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>headers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">headers = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### .userAgent(userAgent)

Set the `userAgent` used by PhantomJS.
You have to set the userAgent before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">headers</span>(headers)

Set the `headers` used when requesting a page.
The headers are a javascript object.
You have to set the headers before calling `.open()`.

#### .authentication(user, password)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.height" id="apidoc.element.node-horseman.HorsemanPromise.prototype.height">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>height
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">height = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets a CSS property of an element.

#### .width(selector)

Gets the width of an element.

#### .<span class="apidocCodeKeywordSpan">height</span>(selector)

Gets the height of an element.

#### .screenshot(path)

Saves a screenshot of the current page to the specified `path`.
Useful for debugging.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.html" id="apidoc.element.node-horseman.HorsemanPromise.prototype.html">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>html
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
using basic authentication.
Be sure to set it before calling `.open(url)`.

```js
horseman
.authentication('myUserName', 'myPassword')
.open('http://httpbin.org/basic-auth/myUserName/myPassword')
.<span class="apidocCodeKeywordSpan">html</span>('pre')
.then(function(body) {
  console.log(body);
  /*
      {
      "authenticated": true,
      "user": "myUserName"
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.includeJs" id="apidoc.element.node-horseman.HorsemanPromise.prototype.includeJs">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>includeJs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">includeJs = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
***Please note: binary downloads do not work correctly with PhantomJS 1.x***


#### .injectJs(file)

Inject a JavaScript file onto the page.

#### .<span class="apidocCodeKeywordSpan">includeJs</span>(url)

Include an external JavaScript script on the page via URL.

#### .mouseEvent(type, \[x, y, \[button\]\])

Send a mouse event to the page.
Each event is sent to the page as if it comes from real user interaction.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.injectJs" id="apidoc.element.node-horseman.HorsemanPromise.prototype.injectJs">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>injectJs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">injectJs = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
otherwise this gets the contents.
If `binary` is `true` it gets the contents as a node `Buffer`,
otherwise it gets them as a string (`binary` defaults to `false`).

***Please note: binary downloads do not work correctly with PhantomJS 1.x***


#### .<span class="apidocCodeKeywordSpan">injectJs</span>(file)

Inject a JavaScript file onto the page.

#### .includeJs(url)

Include an external JavaScript script on the page via URL.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isCancellable" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isCancellable">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isCancellable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCancellable = function () {
    return this.isPending() &amp;&amp; !this.isCancelled();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isCancelled" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isCancelled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isCancelled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCancelled = function () {
    return (this._target()._bitField &amp; 8454144) !== 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isFulfilled" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isFulfilled">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isFulfilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isFulfilled = function () {
    return isFulfilled.call(this._target());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isPending" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isPending">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPending = function () {
    return isPending.call(this._target());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isRejected" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isRejected">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isRejected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isRejected = function () {
    return isRejected.call(this._target());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.isResolved" id="apidoc.element.node-horseman.HorsemanPromise.prototype.isResolved">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>isResolved
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isResolved = function () {
    return isResolved.call(this._target());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.keyboardEvent" id="apidoc.element.node-horseman.HorsemanPromise.prototype.keyboardEvent">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>keyboardEvent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">keyboardEvent = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .<span class="apidocCodeKeywordSpan">keyboardEvent</span>('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.lastly" id="apidoc.element.node-horseman.HorsemanPromise.prototype.lastly">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>lastly
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastly = function (handler) {
    return this._passThrough(handler,
                             0,
                             finallyHandler,
                             finallyHandler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.log" id="apidoc.element.node-horseman.HorsemanPromise.prototype.log">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .<span class="apidocCodeKeywordSpan">log</span>() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.

### Count Twitter Followers Concurrently
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.manipulate" id="apidoc.element.node-horseman.HorsemanPromise.prototype.manipulate">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>manipulate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">manipulate = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.map" id="apidoc.element.node-horseman.HorsemanPromise.prototype.map">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>map
        <span class="apidocSignatureSpan">(fn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn, options) {
    return map(this, fn, options, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.mapSeries" id="apidoc.element.node-horseman.HorsemanPromise.prototype.mapSeries">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>mapSeries
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapSeries = function (fn) {
    return PromiseReduce(this, fn, INTERNAL, INTERNAL);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.mouseEvent" id="apidoc.element.node-horseman.HorsemanPromise.prototype.mouseEvent">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>mouseEvent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mouseEvent = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Inject a JavaScript file onto the page.

#### .includeJs(url)

Include an external JavaScript script on the page via URL.

#### .<span class="apidocCodeKeywordSpan">mouseEvent</span>(type, \[x, y, \[button\]\])

Send a mouse event to the page.
Each event is sent to the page as if it comes from real user interaction.
`type` must be one of
`'mouseup'`, `'mousedown'`, `'mousemove'`, `'doubleclick'`, or `'click'`,
which is the default.
`x` and `y` are optional
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.nodeify" id="apidoc.element.node-horseman.HorsemanPromise.prototype.nodeify">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>nodeify
        <span class="apidocSignatureSpan">(nodeback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nodeify = function (nodeback, options) {
    if (typeof nodeback == "function") {
        var adapter = successAdapter;
        if (options !== undefined &amp;&amp; Object(options).spread) {
            adapter = spreadAdapter;
        }
        this._then(
            adapter,
            errorAdapter,
            undefined,
            this,
            nodeback
        );
    }
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.on" id="apidoc.element.node-horseman.HorsemanPromise.prototype.on">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>on
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

#### .closeTab(tabNum)

Close an open tab. Count starts at 0.

### Events

#### .<span class="apidocCodeKeywordSpan">on</span>(event, callback)

Respond to page events with the callback.
Be sure to set these before calling `.open()`.
The `callback` is evaluated in node.
If you need to return from `callback`, you probably want `.at` instead.

Supported events are:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.open" id="apidoc.element.node-horseman.HorsemanPromise.prototype.open">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>open
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
.userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
.<span class="apidocCodeKeywordSpan">open</span>('http://www.google.com')
.type('input[name="q"]', 'github')
.click('[name="btnK"]')
.keyboardEvent('keypress', 16777221)
.waitForSelector('div.g')
.count('div.g')
.log() // prints out the number of results
.close();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.openTab" id="apidoc.element.node-horseman.HorsemanPromise.prototype.openTab">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>openTab
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openTab = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Resolves to `true` it switched frames
and `false` if it did not (i.e., the main frame was the current frame).

### Tabs

Horseman supports multiple tabs being open at the same time.

#### .<span class="apidocCodeKeywordSpan">openTab</span>(url)

Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .tabCount()

Returns the number of tabs currently open.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.pdf" id="apidoc.element.node-horseman.HorsemanPromise.prototype.pdf">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>pdf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdf = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .cropBase64(area, type)

Returns a string representing a cropped, base64 encoded screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .<span class="apidocCodeKeywordSpan">pdf</span>(path, \[paperSize\])

[US Letter]: &lt;http://en.wikipedia.org/wiki/Letter_%28paper_size%29&gt;
Renders the page as a PDF.
The default paperSize is [US Letter][].

The `paperSize` object should be in either this format:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.plainText" id="apidoc.element.node-horseman.HorsemanPromise.prototype.plainText">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>plainText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">plainText = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
If no `selector` is provided, it returns the HTML of the entire page.
If `file` is provided, the HTML will be written to that filename.

#### .text(selector)

Gets the text inside of an element.

#### .<span class="apidocCodeKeywordSpan">plainText</span>()

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .value(selector, \[val\])

Get, or set, the value of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.post" id="apidoc.element.node-horseman.HorsemanPromise.prototype.post">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>post
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### Navigation

#### .open(url)

Load the page at `url`.

#### .<span class="apidocCodeKeywordSpan">post</span>(url, postData)

POST `postData` to the page at `url`.

#### .put(url, putData)

PUT `putData` to the page at `url`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.props" id="apidoc.element.node-horseman.HorsemanPromise.prototype.props">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>props
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">props = function () {
    return props(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .waitForSelector(selector)
  .then(function() {
    return {
      w: self.width(selector),
      h: self.height(selector)
    };
  })
  .<span class="apidocCodeKeywordSpan">props</span>();
});

var horseman = new Horseman();
horseman
.open('http://example.org')
.size('body')
.log() // { w: 400, h: 240 }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.put" id="apidoc.element.node-horseman.HorsemanPromise.prototype.put">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>put
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">put = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Load the page at `url`.

#### .post(url, postData)

POST `postData` to the page at `url`.

#### .<span class="apidocCodeKeywordSpan">put</span>(url, putData)

PUT `putData` to the page at `url`.

#### .back()

Go back to the previous page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.race" id="apidoc.element.node-horseman.HorsemanPromise.prototype.race">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>race
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function () {
    return race(this, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reason" id="apidoc.element.node-horseman.HorsemanPromise.prototype.reason">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reason
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reason = function () {
    var target = this._target();
    target._unsetRejectionIsUnhandled();
    return reason.call(target);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reduce" id="apidoc.element.node-horseman.HorsemanPromise.prototype.reduce">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reduce
        <span class="apidocSignatureSpan">(fn, initialValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function (fn, initialValue) {
    return reduce(this, fn, initialValue, null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var checkKey = function(key) {
			if (key in modifiers) { return; }
			debug(key + 'is not a supported key modifier');
		};
		if (!modifierString) { return modifier; }
		var keys = modifierString.split('+');
		keys.forEach(checkKey);
		return keys.<span class="apidocCodeKeywordSpan">reduce</span>(function(acc, key) {
			return acc | modifiers[key];
		}, modifier);
	}

	var modifiers = computeModifier(options &amp;&amp; options.modifiers);
	var opts = defaults(options || {}, DEFAULTS);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reflect" id="apidoc.element.node-horseman.HorsemanPromise.prototype.reflect">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reflect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reflect = function () {
    return this._then(reflectHandler,
        reflectHandler, undefined, this, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.reload" id="apidoc.element.node-horseman.HorsemanPromise.prototype.reload">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>reload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reload = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Go forward to the next page.

#### .status()

The HTTP status code returned for the page just opened.

#### .<span class="apidocCodeKeywordSpan">reload</span>()

Refresh the current page.

#### .cookies(\[object|array of objects|string\])

Without any options,
this function will return all the cookies inside the browser.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.return" id="apidoc.element.node-horseman.HorsemanPromise.prototype.return">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>return
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">return = function (value) {
    if (value instanceof Promise) value.suppressUnhandledRejections();
    return this._then(
        returner, undefined, undefined, {value: value}, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
it will be waited on and the action in Node will resolve/reject accordingly.

```js
horseman
  .open('http://en.wikipedia.org/wiki/Headless_Horseman')
  .evaluate(function() {
    // Silly example for illustrative purposes.
    return Bluebird.delay(100).<span class="apidocCodeKeywordSpan">return</span>('Hello World');
  })
  .then(function(mesg){
    // Will log 'Hello World' after a roughly 100 ms delay.
    console.log(mesg);
  })
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.screenshot" id="apidoc.element.node-horseman.HorsemanPromise.prototype.screenshot">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>screenshot
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">screenshot = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Combine this with `viewport` to produce high DPI screenshots.

```js
horseman
  .viewport(3200,1800)
  .zoom(2)
  .open('http://www.horsemanjs.org')
  .<span class="apidocCodeKeywordSpan">screenshot</span>('big.png')
  .close();
```

### Evaluation

Evaluation elements return information from the page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.screenshotBase64" id="apidoc.element.node-horseman.HorsemanPromise.prototype.screenshotBase64">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>screenshotBase64
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">screenshotBase64 = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Gets the height of an element.

#### .screenshot(path)

Saves a screenshot of the current page to the specified `path`.
Useful for debugging.

#### .<span class="apidocCodeKeywordSpan">screenshotBase64</span>(type)

Returns a base64 encoded string representing the screenshot.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .crop(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.scrollTo" id="apidoc.element.node-horseman.HorsemanPromise.prototype.scrollTo">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>scrollTo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scrollTo = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### .viewport(width, height)

Set the `width` and `height` of the viewport, useful for screenshotting.
You have to set the viewport before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">scrollTo</span>(top, left)

Scroll to a position on the page,
relative to the top left corner of the document.

#### .zoom(zoomFactor)

Set the amount of zoom on a page.  The default zoomFactor is 1.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.select" id="apidoc.element.node-horseman.HorsemanPromise.prototype.select">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>select
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .close();
```

#### .click(selector)

Clicks the `selector` element once.

#### .<span class="apidocCodeKeywordSpan">select</span>(selector, value)

Sets the value of a `select` element to `value`.

#### .clear(selector)

Sets the value of an element to `''`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.setProxy" id="apidoc.element.node-horseman.HorsemanPromise.prototype.setProxy">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>setProxy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setProxy = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    http://phantomjs.org/api/command-line.html).
    **These options have precedence over options implicitly set by Horseman.**
  * `debugPort`: Enable web inspector on specified port, default not set.
  * `debugAutorun`: Autorun on launch when in debug mode, default is true.

### Configuration

#### .<span class="apidocCodeKeywordSpan">setProxy</span>(ip, \[port\], \[type\], \[user, pass\])

Dynamically set proxy settings (***requires PhantomJS 2.0.0 or above***).
The `ip` argument can either be the IP of the proxy server,
or a URI of the form `type://user:pass@ip:port`.

The `port` is optional and defaults to `80`.
The `type` is optional and defaults to `'http'`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.settle" id="apidoc.element.node-horseman.HorsemanPromise.prototype.settle">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>settle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">settle = function () {
    return Promise.settle(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.some" id="apidoc.element.node-horseman.HorsemanPromise.prototype.some">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>some
        <span class="apidocSignatureSpan">(howMany)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function (howMany) {
    return some(this, howMany);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.spread" id="apidoc.element.node-horseman.HorsemanPromise.prototype.spread">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>spread
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function (fn) {
    if (typeof fn !== "function") {
        return apiRejection("expecting a function but got " + util.classString(fn));
    }
    return this.all()._then(fn, undefined, undefined, APPLY, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.status" id="apidoc.element.node-horseman.HorsemanPromise.prototype.status">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>status
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">status = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Go back to the previous page.

#### .forward()

Go forward to the next page.

#### .<span class="apidocCodeKeywordSpan">status</span>()

The HTTP status code returned for the page just opened.

#### .reload()

Refresh the current page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.suppressUnhandledRejections" id="apidoc.element.node-horseman.HorsemanPromise.prototype.suppressUnhandledRejections">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>suppressUnhandledRejections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">suppressUnhandledRejections = function () {
    var target = this._target();
    target._bitField = ((target._bitField &amp; (~1048576)) |
                      524288);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToChildFrame" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToChildFrame">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToChildFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToChildFrame = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {string|integer} nameOrPosition - Name or position of frame
* to switch to
*/
exports.switchToChildFrame = util.deprecate(function(nameOrPosition) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.<span class="apidocCodeKeywordSpan">switchToChildFrame</span>()', nameOrPosition);
			return self.page.switchToChildFrame(nameOrPosition, done);
		});
	});
}, 'Horseman#switchToChildFrame: Use Horseman#switchToFrame instead');

/**
* Switch to the main frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFocusedFrame" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFocusedFrame">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToFocusedFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToFocusedFrame = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the number of frames inside the current frame.

#### .frameNames()

Get the names of the frames inside the current frame.

#### .<span class="apidocCodeKeywordSpan">switchToFocusedFrame</span>()

Switch to the frame that is in focus.

#### .switchToFrame(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFrame" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToFrame">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToFrame = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the names of the frames inside the current frame.

#### .switchToFocusedFrame()

Switch to the frame that is in focus.

#### .<span class="apidocCodeKeywordSpan">switchToFrame</span>(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.

#### .switchToMainFrame()

Switch to the main frame of the page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToMainFrame" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToMainFrame">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToMainFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToMainFrame = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Switch to the frame that is in focus.

#### .switchToFrame(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.

#### .<span class="apidocCodeKeywordSpan">switchToMainFrame</span>()

Switch to the main frame of the page.

#### .switchToParentFrame()

Switch to the parent frame of the current frame.
Resolves to `true` it switched frames
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToParentFrame" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToParentFrame">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToParentFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToParentFrame = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Switch to the frame specified by a frame name or a frame position.

#### .switchToMainFrame()

Switch to the main frame of the page.

#### .<span class="apidocCodeKeywordSpan">switchToParentFrame</span>()

Switch to the parent frame of the current frame.
Resolves to `true` it switched frames
and `false` if it did not (i.e., the main frame was the current frame).

### Tabs
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.switchToTab" id="apidoc.element.node-horseman.HorsemanPromise.prototype.switchToTab">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>switchToTab
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToTab = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .tabCount()

Returns the number of tabs currently open.

#### .<span class="apidocCodeKeywordSpan">switchToTab</span>(tabnumber)

Switch to another tab. Count starts at 0.

#### .closeTab(tabNum)

Close an open tab. Count starts at 0.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tabCount" id="apidoc.element.node-horseman.HorsemanPromise.prototype.tabCount">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tabCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabCount = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Horseman supports multiple tabs being open at the same time.

#### .openTab(url)

Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .<span class="apidocCodeKeywordSpan">tabCount</span>()

Returns the number of tabs currently open.

#### .switchToTab(tabnumber)

Switch to another tab. Count starts at 0.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tap" id="apidoc.element.node-horseman.HorsemanPromise.prototype.tap">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tap
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function (handler) {
    return this._passThrough(handler, 1, finallyHandler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}
		var loaded = self.page.loadedPromise();
		loaded.catch(function() {});
		return HorsemanPromise.fromCallback(function(done) {
				args.push(done);
				return self.page.open.apply(self.page, args);
			})
			.<span class="apidocCodeKeywordSpan">tap</span>(function checkStatus(status) {
				if (status !== 'success') {
					var err = new Error('Failed to ' + meth + ' url: ' + url);
					return HorsemanPromise.reject(err);
				}
			})
			.tap(function waitFoLoadFinished() {
				// Make sure page injecting is done
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.tapCatch" id="apidoc.element.node-horseman.HorsemanPromise.prototype.tapCatch">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>tapCatch
        <span class="apidocSignatureSpan">(handlerOrPredicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tapCatch = function (handlerOrPredicate) {
    var len = arguments.length;
    if(len === 1) {
        return this._passThrough(handlerOrPredicate,
                                 1,
                                 undefined,
                                 finallyHandler);
    } else {
         var catchInstances = new Array(len - 1),
            j = 0, i;
        for (i = 0; i &lt; len - 1; ++i) {
            var item = arguments[i];
            if (util.isObject(item)) {
                catchInstances[j++] = item;
            } else {
                return Promise.reject(new TypeError(
                    "tapCatch statement predicate: "
                    + "expecting an object but got " + util.classString(item)
                ));
            }
        }
        catchInstances.length = j;
        var handler = arguments[i];
        return this._passThrough(catchFilter(catchInstances, handler, this),
                                 1,
                                 undefined,
                                 finallyHandler);
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.text" id="apidoc.element.node-horseman.HorsemanPromise.prototype.text">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>text
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Horseman = require('node-horseman');
const users = ['PhantomJS', 'nodejs'];

users.forEach((user) =&gt; {
    const horseman = new Horseman();
    horseman
        .open(`http://twitter.com/${user}`)
        .<span class="apidocCodeKeywordSpan">text</span>('.ProfileNav-item--followers .ProfileNav-value')
        .then((text) =&gt; {
            console.log(`${user}: ${text}`);
        })
        .close();
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.then" id="apidoc.element.node-horseman.HorsemanPromise.prototype.then">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>then
        <span class="apidocSignatureSpan">(didFulfill, didReject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (didFulfill, didReject) {
    if (debug.warnings() &amp;&amp; arguments.length &gt; 0 &amp;&amp;
        typeof didFulfill !== "function" &amp;&amp;
        typeof didReject !== "function") {
        var msg = ".then() only accepts functions but was passed: " +
                util.classString(didFulfill);
        if (arguments.length &gt; 1) {
            msg += ", " + util.classString(didReject);
        }
        this._warn(msg);
    }
    return this._then(didFulfill, didReject, undefined, undefined, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const users = ['PhantomJS', 'nodejs'];

users.forEach((user) =&gt; {
    const horseman = new Horseman();
    horseman
        .open(`http://twitter.com/${user}`)
        .text('.ProfileNav-item--followers .ProfileNav-value')
        .<span class="apidocCodeKeywordSpan">then</span>((text) =&gt; {
            console.log(`${user}: ${text}`);
        })
        .close();
});
```

Save the file as `twitter.js`. Then, `node twitter.js`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.thenReturn" id="apidoc.element.node-horseman.HorsemanPromise.prototype.thenReturn">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>thenReturn
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenReturn = function (value) {
    if (value instanceof Promise) value.suppressUnhandledRejections();
    return this._then(
        returner, undefined, undefined, {value: value}, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.thenThrow" id="apidoc.element.node-horseman.HorsemanPromise.prototype.thenThrow">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>thenThrow
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenThrow = function (reason) {
    return this._then(
        thrower, undefined, undefined, {reason: reason}, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.throw" id="apidoc.element.node-horseman.HorsemanPromise.prototype.throw">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>throw
        <span class="apidocSignatureSpan">(reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">throw = function (reason) {
    return this._then(
        thrower, undefined, undefined, {reason: reason}, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.timeout" id="apidoc.element.node-horseman.HorsemanPromise.prototype.timeout">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms, message) {
    ms = +ms;
    var ret, parent;

    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {
        if (ret.isPending()) {
            afterTimeout(ret, message, parent);
        }
    }, ms));

    if (debug.cancellation()) {
        parent = this.then();
        ret = parent._then(successClear, failureClear,
                            undefined, handleWrapper, undefined);
        ret._setOnCancel(handleWrapper);
    } else {
        ret = this._then(successClear, failureClear,
                            undefined, handleWrapper, undefined);
    }

    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.title" id="apidoc.element.node-horseman.HorsemanPromise.prototype.title">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>title
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">title = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .close();
```

### Evaluation

Evaluation elements return information from the page.

#### .<span class="apidocCodeKeywordSpan">title</span>()

Get the title of the current page.

#### .url()

Get the URL of the current page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.toJSON" id="apidoc.element.node-horseman.HorsemanPromise.prototype.toJSON">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
    var ret = {
        isFulfilled: false,
        isRejected: false,
        fulfillmentValue: undefined,
        rejectionReason: undefined
    };
    if (this.isFulfilled()) {
        ret.fulfillmentValue = this.value();
        ret.isFulfilled = true;
    } else if (this.isRejected()) {
        ret.rejectionReason = this.reason();
        ret.isRejected = true;
    }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.toString" id="apidoc.element.node-horseman.HorsemanPromise.prototype.toString">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return "[object Promise]";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
							done(null, p);
						}
					}
				} catch (err) {
					done(err);
				}
				return 's';
			}, fn.<span class="apidocCodeKeywordSpan">toString</span>(), hasCb, args)
			.then(function waitForCb(type) {
				if (type !== 's') {
					debugv('.evaluate() waiting for callback', fname, type,
							self.id);
					return waitForPage.call(self, page, function waitForCb() {
						return !!__horseman.cbargs;
					}, true);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.type" id="apidoc.element.node-horseman.HorsemanPromise.prototype.type">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>type
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">type = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .<span class="apidocCodeKeywordSpan">type</span>('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.upload" id="apidoc.element.node-horseman.HorsemanPromise.prototype.upload">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>upload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upload = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .type(selector, text, \[options\])

Enters the `text` provided into the `selector` element.
Options is an object containing `eventType`
(`'keypress'`, `'keyup'`, `'keydown'`. Default is `'keypress'`)
and `modifiers`, which is a string in the form of `ctrl+shift+alt`.

#### .<span class="apidocCodeKeywordSpan">upload</span>(selector, path)

Specify the `path` to upload into a file input `selector` element.

#### .download(url, \[path\], \[binary\])

Download the contents of `url`.
If `path` is supplied the contents will be written there,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.url" id="apidoc.element.node-horseman.HorsemanPromise.prototype.url">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>url
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">url = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Evaluation elements return information from the page.

#### .title()

Get the title of the current page.

#### .<span class="apidocCodeKeywordSpan">url</span>()

Get the URL of the current page.

#### .visible(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.userAgent" id="apidoc.element.node-horseman.HorsemanPromise.prototype.userAgent">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>userAgent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">userAgent = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Search on Google

```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
.<span class="apidocCodeKeywordSpan">userAgent</span>('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/
27.0')
.open('http://www.google.com')
.type('input[name="q"]', 'github')
.click('[name="btnK"]')
.keyboardEvent('keypress', 16777221)
.waitForSelector('div.g')
.count('div.g')
.log() // prints out the number of results
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.value" id="apidoc.element.node-horseman.HorsemanPromise.prototype.value">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>value
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">value = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets the text inside of an element.

#### .plainText()

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .<span class="apidocCodeKeywordSpan">value</span>(selector, \[val\])

Get, or set, the value of an element.

#### .attribute(selector, attribute)

Gets an attribute of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.viewport" id="apidoc.element.node-horseman.HorsemanPromise.prototype.viewport">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>viewport
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">viewport = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        "user": "myUserName"
      }
    */
    return horseman.close();
  });
```

#### .<span class="apidocCodeKeywordSpan">viewport</span>(width, height)

Set the `width` and `height` of the viewport, useful for screenshotting.
You have to set the viewport before calling `.open()`.

#### .scrollTo(top, left)

Scroll to a position on the page,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.visible" id="apidoc.element.node-horseman.HorsemanPromise.prototype.visible">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>visible
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visible = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the title of the current page.

#### .url()

Get the URL of the current page.

#### .<span class="apidocCodeKeywordSpan">visible</span>(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.

#### .exists(selector)

Determines if the selector exists, or not, on the page. Returns a boolean.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.wait" id="apidoc.element.node-horseman.HorsemanPromise.prototype.wait">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>wait
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wait = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Waiting

These functions for the browser to wait for an event to occur.
If the event does not occur before the timeout period
(configurable via the options),
a timeout event will be fired and the Promise for the action will reject.

#### .<span class="apidocCodeKeywordSpan">wait</span>(ms)

Wait for `ms` milliseconds e.g. `.wait(5000)`

#### .waitForNextPage([options])

Wait until a page finishes loading, typically after a `.click()`.
`options` can have be `{timeout: 5000}` to define an action-specific timeout.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitFor" id="apidoc.element.node-horseman.HorsemanPromise.prototype.waitFor">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitFor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitFor = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .waitForSelector(selector, [options])

Wait until the element `selector` is present,
e.g., `.waitForSelector('#pay-button')`

`options` can have be `{timeout: 5000}` to define an action-specific timeout.

#### .<span class="apidocCodeKeywordSpan">waitFor</span>(fn, \[arg1, arg2,...\], value)

Wait until the `fn` evaluated on the page returns the *specified* `value`.
`fn` is invoked with args.

```js
// This will call the function in the browser repeatedly
// until true (or whatever else you specified) is returned
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitForNextPage" id="apidoc.element.node-horseman.HorsemanPromise.prototype.waitForNextPage">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitForNextPage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForNextPage = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(configurable via the options),
a timeout event will be fired and the Promise for the action will reject.

#### .wait(ms)

Wait for `ms` milliseconds e.g. `.wait(5000)`

#### .<span class="apidocCodeKeywordSpan">waitForNextPage</span>([options])

Wait until a page finishes loading, typically after a `.click()`.
`options` can have be `{timeout: 5000}` to define an action-specific timeout.

#### .waitForSelector(selector, [options])

Wait until the element `selector` is present,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.waitForSelector" id="apidoc.element.node-horseman.HorsemanPromise.prototype.waitForSelector">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>waitForSelector
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForSelector = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .<span class="apidocCodeKeywordSpan">waitForSelector</span>('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.width" id="apidoc.element.node-horseman.HorsemanPromise.prototype.width">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>width
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">width = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets an attribute of an element.

#### .cssProperty(selector, property)

Gets a CSS property of an element.

#### .<span class="apidocCodeKeywordSpan">width</span>(selector)

Gets the width of an element.

#### .height(selector)

Gets the height of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.HorsemanPromise.prototype.zoom" id="apidoc.element.node-horseman.HorsemanPromise.prototype.zoom">
        function <span class="apidocSignatureSpan">node-horseman.HorsemanPromise.prototype.</span>zoom
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">zoom = function () {
		var args = arguments;
		return this.then(function(val) {
			this.lastVal = val;
			return this[name].apply(this, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
You have to set the viewport before calling `.open()`.

#### .scrollTo(top, left)

Scroll to a position on the page,
relative to the top left corner of the document.

#### .<span class="apidocCodeKeywordSpan">zoom</span>(zoomFactor)

Set the amount of zoom on a page.  The default zoomFactor is 1.
To zoom to 200%, use a zoomFactor of 2.
Combine this with `viewport` to produce high DPI screenshots.

```js
horseman
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman.TimeoutError" id="apidoc.module.node-horseman.TimeoutError">module node-horseman.TimeoutError</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.TimeoutError.TimeoutError" id="apidoc.element.node-horseman.TimeoutError.TimeoutError">
        function <span class="apidocSignatureSpan">node-horseman.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman.TimeoutError.prototype" id="apidoc.module.node-horseman.TimeoutError.prototype">module node-horseman.TimeoutError.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.TimeoutError.prototype.constructor" id="apidoc.element.node-horseman.TimeoutError.prototype.constructor">
        function <span class="apidocSignatureSpan">node-horseman.TimeoutError.prototype.</span>constructor
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SubError(message) {
    if (!(this instanceof SubError)) return new SubError(message);
    notEnumerableProp(this, "message",
        typeof message === "string" ? message : defaultMessage);
    notEnumerableProp(this, "name", nameProperty);
    if (Error.captureStackTrace) {
        Error.captureStackTrace(this, this.constructor);
    } else {
        Error.call(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-horseman.actions" id="apidoc.module.node-horseman.actions">module node-horseman.actions</a></h1>


    <h2>
        <a href="#apidoc.element.node-horseman.actions.__evaluate" id="apidoc.element.node-horseman.actions.__evaluate">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>__evaluate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__evaluate = function () {
	var args = Array.prototype.concat.apply([this.page], arguments);
	return evaluatePage.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {number} [height]
 */
exports.viewport = function(width, height) {
	var self = this;
	if (!width) {
		debug('.viewport() get');
		return this.ready.then(function() {
			return self.<span class="apidocCodeKeywordSpan">__evaluate</span>(function getViewport() {
				return {
					width: window.innerWidth,
					height: window.innerHeight
				};
			});
		});
	} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.at" id="apidoc.element.node-horseman.actions.at">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>at
        <span class="apidocSignatureSpan">(eventType, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">at = function (eventType, callback) {
	return this.ready.then(function() {
		var pageEvent = 'on' +
				eventType.charAt(0).toUpperCase() + eventType.slice(1);

		this.page.setFn(pageEvent, callback);

		debug('.at() ' + eventType + ' set.');
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
horseman
  .on('consoleMessage', function( msg ){
    console.log(msg);
  })
```

#### .<span class="apidocCodeKeywordSpan">at</span>(event, callback)

Respond to page events with the callback.
Be sure to set these before calling `.open()`.
The `callback` is evaluated in PhantomJS.
If you do not need to return from `callback`, you probably want `.on` instead.

Useful events are:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.attribute" id="apidoc.element.node-horseman.actions.attribute">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>attribute
        <span class="apidocSignatureSpan">(selector, attr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attribute = function (selector, attr) {
	debug('.attribute()', selector, attr);
	return this.__evaluate(function attribute(selector, attr) {
		return (window.jQuery) ?
				jQuery(selector).attr(attr) :
				document.querySelector(selector).getAttribute(attr);
	}, selector, attr);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .value(selector, \[val\])

Get, or set, the value of an element.

#### .<span class="apidocCodeKeywordSpan">attribute</span>(selector, attribute)

Gets an attribute of an element.

#### .cssProperty(selector, property)

Gets a CSS property of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.authentication" id="apidoc.element.node-horseman.actions.authentication">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>authentication
        <span class="apidocSignatureSpan">(user, password)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authentication = function (user, password) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			self.page.get('settings', function(err, settings) {
				if (err) { return done(err); }
				debug('.authentiation() set');
				settings.userName = user;
				settings.password = password;
				self.page.set('settings', settings, done);
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

#### .headers(headers)

Set the `headers` used when requesting a page.
The headers are a javascript object.
You have to set the headers before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">authentication</span>(user, password)

Set the `user` and `password` for accessing a web page
using basic authentication.
Be sure to set it before calling `.open(url)`.

```js
horseman
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.back" id="apidoc.element.node-horseman.actions.back">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>back
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">back = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.back()');
			self.page.goBack(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

POST `postData` to the page at `url`.

#### .put(url, putData)

PUT `putData` to the page at `url`.

#### .<span class="apidocCodeKeywordSpan">back</span>()

Go back to the previous page.

#### .forward()

Go forward to the next page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.boundingRectangle" id="apidoc.element.node-horseman.actions.boundingRectangle">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>boundingRectangle
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">boundingRectangle = function (selector) {
	var self = this;
	return this.__evaluate(function boundingRectangle(selector) {
		if (window.jQuery) {
			return jQuery(selector)[0].getBoundingClientRect();
		} else {
			var element = document.querySelector(selector);
			return element.getBoundingClientRect();
		}
	}, selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.set('clipRect', prevClipRect, done);
				});
			});
	}
	if (typeof area === 'string') {
		return this
			.<span class="apidocCodeKeywordSpan">boundingRectangle</span>(area)
			.then(doCrop);
	} else {
		return doCrop(area);
	}
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.clear" id="apidoc.element.node-horseman.actions.clear">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>clear
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function (selector) {
	debug('.clear()', selector);
	return this.value(selector, '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Clicks the `selector` element once.

#### .select(selector, value)

Sets the value of a `select` element to `value`.

#### .<span class="apidocCodeKeywordSpan">clear</span>(selector)

Sets the value of an element to `''`.

#### .type(selector, text, \[options\])

Enters the `text` provided into the `selector` element.
Options is an object containing `eventType`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.click" id="apidoc.element.node-horseman.actions.click">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>click
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">click = function (selector) {
	var self = this;

	debug('.click()', selector);
	return self.__evaluate(function click(selector) {
		var element;
		var event;
		if (window.jQuery) {
			element = jQuery(selector);
			event = document.createEvent('MouseEvent');
			event.initEvent('click', true, true);
			element.get(0).dispatchEvent(event);
		} else {
			element = document.querySelector(selector);
			event = document.createEvent('MouseEvent');
			event.initEvent('click', true, true);
			element.dispatchEvent(event);
		}
	}, selector)
	.tap(function() { debug('.click() done'); });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .<span class="apidocCodeKeywordSpan">click</span>('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.closeTab" id="apidoc.element.node-horseman.actions.closeTab">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>closeTab
        <span class="apidocSignatureSpan">(tabNumber)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closeTab = function (tabNumber) {
	var self = this;
	debug('.closeTab()', tabNumber);
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			return self.tabs[tabNumber].close(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns the number of tabs currently open.

#### .switchToTab(tabnumber)

Switch to another tab. Count starts at 0.

#### .<span class="apidocCodeKeywordSpan">closeTab</span>(tabNum)

Close an open tab. Count starts at 0.

### Events

#### .on(event, callback)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.cookies" id="apidoc.element.node-horseman.actions.cookies">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>cookies
        <span class="apidocSignatureSpan">(arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cookies = function (arg) {
	var self = this;
	return this.ready.then(function() {
		if (arg) {
			if (arg instanceof Array) { // replace all the cookies!
				return HorsemanPromise
					.fromCallback(function(done) {
						return self.phantom.clearCookies(done);
					})
					.tap(function() {
						debug('.cookies() reset');
					})
					.return(arg)
					.each(function(cookie) {
						return HorsemanPromise.fromCallback(function(done) {
							self.phantom.addCookie(cookie, done);
						});
					});
			}
			switch (typeof arg) {
				// adding one cookie
				case 'object':
					return HorsemanPromise
						.fromCallback(function(done) {
							return self.phantom.addCookie(arg, done);
						}).tap(function() {
							debug('.cookies() added');
						});
				// replace all cookies with file cookies
				case 'string':
					return HorsemanPromise
						.fromCallback(function(done) {
							return self.phantom.clearCookies(done);
						})
						.tap(function() {
							debug('.cookies() reset');
						})
						.then(function() {
							return HorsemanPromise.fromCallback(function(done) {
								return cookiesTxt.parse(arg, function(cookies) {
									return done(null, cookies);
								});
							});
						})
						.each(function(cookie) {
							return HorsemanPromise.fromCallback(function(done) {
								self.phantom.addCookie(cookie, done);
							});
						});
			}
		} else { // return cookies for this page
			return HorsemanPromise
				.fromCallback(function(done) {
					return self.page.get('cookies', done);
				})
				.tap(function() {
					debug('.cookies() returned');
				});
		}
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The HTTP status code returned for the page just opened.

#### .reload()

Refresh the current page.

#### .<span class="apidocCodeKeywordSpan">cookies</span>(\[object|array of objects|string\])

Without any options,
this function will return all the cookies inside the browser.

```js
horseman
.open('http://httpbin.org/cookies')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.count" id="apidoc.element.node-horseman.actions.count">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>count
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (selector) {
	debug('.count()', selector);
	return this.__evaluate(function count(selector) {
		var matches = (window.jQuery) ?
				jQuery(selector) : document.querySelectorAll(selector);
		return matches.length;
	}, selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .<span class="apidocCodeKeywordSpan">count</span>('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.

### Count Twitter Followers Concurrently
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.crop" id="apidoc.element.node-horseman.actions.crop">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>crop
        <span class="apidocSignatureSpan">(area, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">crop = function (area, path) {
	var self = this;
	function doCrop(area) {
		return self.ready
			.then(function getZoomFactor() {
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.get('zoomFactor', done);
				});
			}).then(function(zoomFactor) {
				var rect = {
					top: area.top * zoomFactor,
					left: area.left * zoomFactor,
					width: area.width * zoomFactor,
					height: area.height * zoomFactor
				};
				return self.ready
					.then(function getClipRect() {
						return HorsemanPromise.fromCallback(function(done) {
							return self.page.get('clipRect', done);
						});
					})
					.tap(function setClipRect(prevClipRect) {
						return HorsemanPromise.fromCallback(function(done) {
							return self.page.set('clipRect', rect, done);
						});
					})
					.tap(function screenShot() {
						return self.screenshot(path);
					});
			})
			.then(function resetClipRect(prevClipRect) {
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.set('clipRect', prevClipRect, done);
				});
			});
	}
	if (typeof area === 'string') {
		return this
			.boundingRectangle(area)
			.then(doCrop);
	} else {
		return doCrop(area);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Useful for debugging.

#### .screenshotBase64(type)

Returns a base64 encoded string representing the screenshot.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .<span class="apidocCodeKeywordSpan">crop</span>(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
Takes a cropped screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.

#### .cropBase64(area, type)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.cropBase64" id="apidoc.element.node-horseman.actions.cropBase64">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>cropBase64
        <span class="apidocSignatureSpan">(area, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cropBase64 = function (area, type) {
	var self = this;
	function doCrop(area) {
		var b64;
		return self.ready
			.then(function getZoomFactor() {
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.get('zoomFactor', done);
				});
			}).then(function(zoomFactor) {
				var rect = {
					top: area.top * zoomFactor,
					left: area.left * zoomFactor,
					width: area.width * zoomFactor,
					height: area.height * zoomFactor
				};
				return self.ready
					.then(function getClipRect() {
						return HorsemanPromise.fromCallback(function(done) {
							return self.page.get('clipRect', done);
						});
					})
					.tap(function setClipRect(prevClipRect) {
						return HorsemanPromise.fromCallback(function(done) {
							return self.page.set('clipRect', rect, done);
						});
					})
					.tap(function renderBase64() {
						b64 = self.screenshotBase64(type);
						return b64;
					});
			})
			.then(function resetClipRect(prevClipRect) {
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.set('clipRect', prevClipRect, done);
				});
			})
			.then(function() {
				return b64;
			});
	}
	if (typeof area === 'string') {
		return this
		.boundingRectangle(area)
		.then(doCrop);
	} else {
		return doCrop(area);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .crop(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
Takes a cropped screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.

#### .<span class="apidocCodeKeywordSpan">cropBase64</span>(area, type)

Returns a string representing a cropped, base64 encoded screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .pdf(path, \[paperSize\])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.cssProperty" id="apidoc.element.node-horseman.actions.cssProperty">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>cssProperty
        <span class="apidocSignatureSpan">(selector, prop)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cssProperty = function (selector, prop) {
	debug('.cssProperty()', selector, prop);
	return this.__evaluate(function cssProperty(selector, prop) {
		return (window.jQuery) ?
				jQuery(selector).css(prop) :
				window.getComputedStyle(document.querySelector(selector))[prop];
	}, selector, prop);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get, or set, the value of an element.

#### .attribute(selector, attribute)

Gets an attribute of an element.

#### .<span class="apidocCodeKeywordSpan">cssProperty</span>(selector, property)

Gets a CSS property of an element.

#### .width(selector)

Gets the width of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.do" id="apidoc.element.node-horseman.actions.do">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>do
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">do = function (fn) {
	debug('.do()', fn.name || '&lt;anonymous&gt;');
	return this.ready.then(function() {
		return new HorsemanPromise(function(resolve, reject) {
			fn(resolve);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.count('a')
.log() // outputs the number of anchor tags
.click('a')
.log('clicked the button') //outputs the string
.close();
```

#### .<span class="apidocCodeKeywordSpan">do</span>(fn)

Run an function without breaking the chain. Works with asynchronous functions.
Must call the callback when complete.

```js
horseman
.open('http://www.google.com')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.download" id="apidoc.element.node-horseman.actions.download">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>download
        <span class="apidocSignatureSpan">(url, path, binary, method, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">download = function (url, path, binary, method, data) {
	var args = Array.prototype.slice.call(arguments);
	method = method &amp;&amp; method.toUpperCase() || 'GET';
	debug.apply(debug, ['.download() start'].concat(args));
	return this
		.evaluate(function download(url, binary, method, data, v, done) {
			var xhr = new XMLHttpRequest();
			xhr.open(method, url,  true);
			xhr.responseType = binary ? 'blob' : 'text';
			xhr.setRequestHeader('Accept', '*/*, image/*');
			xhr.addEventListener('load', function downloaded() {
				if (!(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)) {
					return done(new Error(xhr.response));
				}
				return done(null, xhr.response);
			});
			if (v) {
				xhr.addEventListener('progress', function(e) {
					console.log('dowload progess: ' + 100 * e.loaded / e.total);
				});
			}
			xhr.addEventListener('error', function(evt) {
				setTimeout(function() {
					done(new Error('xhr error'));
				}, 0);
			});
			xhr.send(data);
		}, url, binary, method, data, debugv.enabled)
		.tap(function writeFile(buffer) {
			if (path) {
				return HorsemanPromise.fromCallback(function(done) {
					return fs.writeFile(path, buffer, done);
				});
			}
		})
		.tap(function() {
			debug.apply(debug, ['.download() finish'].concat(args));
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(`'keypress'`, `'keyup'`, `'keydown'`. Default is `'keypress'`)
and `modifiers`, which is a string in the form of `ctrl+shift+alt`.

#### .upload(selector, path)

Specify the `path` to upload into a file input `selector` element.

#### .<span class="apidocCodeKeywordSpan">download</span>(url, \[path\], \[binary\])

Download the contents of `url`.
If `path` is supplied the contents will be written there,
otherwise this gets the contents.
If `binary` is `true` it gets the contents as a node `Buffer`,
otherwise it gets them as a string (`binary` defaults to `false`).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.evaluate" id="apidoc.element.node-horseman.actions.evaluate">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>evaluate
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">evaluate = function (fn) {
	var args =  Array.prototype.slice.call(arguments, 1);
	var self = this;
	var hasCb = args.length &lt; fn.length; // Whether fn takes a callback
	var fname = fn.name || '&lt;anonymous&gt;';

	debug.apply(debug, ['.evaluate()', fname].concat(args));
	return this.ready.then(function() {
		// Handle this.page changing
		var page = self.page;
		var evaluate = HorsemanPromise.promisify(page.evaluate).bind(page);

		// TODO: Move evaluate wrapper to a client script?
		// Make dumy error to make evaluate rejections more debuggable
		var stack = HorsemanPromise.reject(new Error('See next line'));
		var res = evaluate(function evaluate(fnstr, hasCb, args) {
				if(!window.__horseman) {
					window.__horseman = {};
				}
				__horseman.cbargs = undefined;
				var done = function done(err, res) {
					if (__horseman.cbargs) { return; }
					var iserr = err instanceof Error;
					if (iserr) {
						var keys = Object.getOwnPropertyNames(err);
						err = keys.reduce(function copyErr(obj, key) {
							obj[key] = err[key];
							return obj;
						}, {});
					}
					var isblob = res instanceof Blob;
					if (isblob) {
						var reader = new FileReader();
						reader.onload = function converted() {
							res = reader.result;
							ddone();
						};
						reader.onerror = function() {
							setTimeout(function() {
								err = err || new Error('blob reader error');
								ddone();
							}, 0);
						};
						reader.readAsDataURL(res);
					} else {
						ddone();
					}
					function ddone() {
						__horseman.cbargs = {
							err: err,
							iserr: iserr,
							res: res,
							isblob: isblob
						};
					}
				};
				try {
					var fn;
					eval('fn = ' + fnstr);

					if (hasCb) {
						// Call fn asynchronously
						setTimeout(function() {
							try {
								return fn.apply(this, args.concat(done));
							} catch (err) {
								return done(err);
							}
						}, 0);
						return 'c';
					} else {
						var p;
						// Call fn synchronously
						p = fn.apply(this, args);

						if (p &amp;&amp; typeof p.then === 'function') {
							// fn returned a Promise
							p.then(function onResolve(res) {
								return done(null, res);
							}, function onReject(err) {
								return done(err);
							});
							return 'p';
						} else {
							done(null, p);
						}
					}
				} catch (err) {
					done(err);
				}
				return 's';
			}, fn.toString(), hasCb, args)
			.then(function waitForCb(type) {
				if (type !== 's') {
					debugv('.evaluate() waiting for callback', fname, type,
							self.id);
					return waitForPage.call(self, page, function waitForCb() {
						return !!__horseman.cbargs;
					}, true);
				}
				debugv('.evaluate() finished synchronously', fname, type,
						self.id);
			})
			.then(function handleCb() {
				return evaluate(function handleCb() {
					return __horseman.cbargs;
				});
			})
			.then(function handleErrback(args) {
				args = args || {};
				return stack.catch(function fixErr(err) {
					// TODO: Phantom 2 errors are different than 1
					if (args.err) {
						// Make long/normal stack traces work
						if (args.iserr) {
							args.err.name = args.err.name || 'Error';

							if (!args.err.stack) {
								args.err.stack = args.err.toString();
							}
							args.err.stack.replace(/\n*$/g, '\n');
							var stack = err.stack.split('\n').slice(1);
							// Append Node stack to Phantom stack
							args.err.stack += stack.join('\n');
						}
						if (args.err.stack) {
							args.err.toString = function() {
								return this.name + ': ' + this.message;
							};
						}
						return HorsemanPromise.reject(args.err);
					}
					if (args.isblob) {
						return dataUriToBuffer(args.res);
					}
					return args.res;
				});
			});
		stack.catch(function() {});
		return res;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.open('http://www.google.com')
.do(function(done){
  setTimeout(done,1000);
})
.close();
```

#### .<span class="apidocCodeKeywordSpan">evaluate</span>(fn, \[arg1, arg2,...\])

Invokes `fn` on the page with args. On completion it returns a value.
Useful for extracting information from the page.

```js
horseman
.open('http://en.wikipedia.org/wiki/Headless_Horseman')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.exists" id="apidoc.element.node-horseman.actions.exists">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>exists
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (selector) {
	debug('.exists()', selector);
	return this.count(selector).then(function(count) {
		return count &gt; 0;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the URL of the current page.

#### .visible(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.

#### .<span class="apidocCodeKeywordSpan">exists</span>(selector)

Determines if the selector exists, or not, on the page. Returns a boolean.

#### .count(selector)

Counts the number of `selector` on the page. Returns a number.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.forward" id="apidoc.element.node-horseman.actions.forward">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>forward
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forward = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.forward()');
			self.page.goForward(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

PUT `putData` to the page at `url`.

#### .back()

Go back to the previous page.

#### .<span class="apidocCodeKeywordSpan">forward</span>()

Go forward to the next page.

#### .status()

The HTTP status code returned for the page just opened.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.frameCount" id="apidoc.element.node-horseman.actions.frameCount">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameCount = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.frameCount()');
			return self.page.get('framesCount', done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### Frames

#### .frameName()

Get the name of the current frame.

#### .<span class="apidocCodeKeywordSpan">frameCount</span>()

Get the number of frames inside the current frame.

#### .frameNames()

Get the names of the frames inside the current frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.frameName" id="apidoc.element.node-horseman.actions.frameName">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameName = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.frameName()');
			return self.page.get('frameName', done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`fn` : function to execute, mandatory
`args` : `fn` arguments
`value` : Wait until the `fn` evaluated on the page returns the *specified* `value`.
`timeout` : specific timeout

### Frames

#### .<span class="apidocCodeKeywordSpan">frameName</span>()

Get the name of the current frame.

#### .frameCount()

Get the number of frames inside the current frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.frameNames" id="apidoc.element.node-horseman.actions.frameNames">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>frameNames
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">frameNames = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.frameNames()');
			return self.page.get('framesName', done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the name of the current frame.

#### .frameCount()

Get the number of frames inside the current frame.

#### .<span class="apidocCodeKeywordSpan">frameNames</span>()

Get the names of the frames inside the current frame.

#### .switchToFocusedFrame()

Switch to the frame that is in focus.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.headers" id="apidoc.element.node-horseman.actions.headers">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>headers
        <span class="apidocSignatureSpan">(headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">headers = function (headers) {
	var self = this;

	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.headers()');
			self.page.set('customHeaders', headers, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### .userAgent(userAgent)

Set the `userAgent` used by PhantomJS.
You have to set the userAgent before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">headers</span>(headers)

Set the `headers` used when requesting a page.
The headers are a javascript object.
You have to set the headers before calling `.open()`.

#### .authentication(user, password)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.height" id="apidoc.element.node-horseman.actions.height">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>height
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">height = function (selector) {
	debug('.height()', selector);
	return this.__evaluate(function height(selector) {
		return (window.jQuery) ?
				jQuery(selector).height() :
				document.querySelector(selector).offsetHeight;
	}, selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets a CSS property of an element.

#### .width(selector)

Gets the width of an element.

#### .<span class="apidocCodeKeywordSpan">height</span>(selector)

Gets the height of an element.

#### .screenshot(path)

Saves a screenshot of the current page to the specified `path`.
Useful for debugging.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.html" id="apidoc.element.node-horseman.actions.html">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>html
        <span class="apidocSignatureSpan">(selector, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (selector, file) {
	debug('.html()', selector);
	return this
		.__evaluate(function html(selector) {
			if (selector) {
				return (window.jQuery) ?
						jQuery(selector).html() :
						document.querySelector(selector).innerHTML;
			} else {
				return (window.jQuery) ?
						jQuery('html').html() :
						document.documentElement.innerHTML;
			}
		}, selector)
		.tap(function writeHtmlToFile(html) {
			if (file) {
				return HorsemanPromise.fromCallback(function(done) {
					return fs.writeFile(file, html, done);
				});
			}
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
using basic authentication.
Be sure to set it before calling `.open(url)`.

```js
horseman
.authentication('myUserName', 'myPassword')
.open('http://httpbin.org/basic-auth/myUserName/myPassword')
.<span class="apidocCodeKeywordSpan">html</span>('pre')
.then(function(body) {
  console.log(body);
  /*
      {
      "authenticated": true,
      "user": "myUserName"
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.includeJs" id="apidoc.element.node-horseman.actions.includeJs">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>includeJs
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">includeJs = function (url) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.includeJs()', url);
			return self.page.includeJs(url, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
***Please note: binary downloads do not work correctly with PhantomJS 1.x***


#### .injectJs(file)

Inject a JavaScript file onto the page.

#### .<span class="apidocCodeKeywordSpan">includeJs</span>(url)

Include an external JavaScript script on the page via URL.

#### .mouseEvent(type, \[x, y, \[button\]\])

Send a mouse event to the page.
Each event is sent to the page as if it comes from real user interaction.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.injectJs" id="apidoc.element.node-horseman.actions.injectJs">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>injectJs
        <span class="apidocSignatureSpan">(file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">injectJs = function (file) {
	var self = this;
	return this.ready
		.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				debug('.injectJs()', file);
				return self.page.injectJs(file, done);
			});
		})
		.tap(function(successful) {
			if (!successful) {
				var err = new Error('failed to inject ' + file);
				return HorsemanPromise.reject(err);
			}
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
otherwise this gets the contents.
If `binary` is `true` it gets the contents as a node `Buffer`,
otherwise it gets them as a string (`binary` defaults to `false`).

***Please note: binary downloads do not work correctly with PhantomJS 1.x***


#### .<span class="apidocCodeKeywordSpan">injectJs</span>(file)

Inject a JavaScript file onto the page.

#### .includeJs(url)

Include an external JavaScript script on the page via URL.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.keyboardEvent" id="apidoc.element.node-horseman.actions.keyboardEvent">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>keyboardEvent
        <span class="apidocSignatureSpan">(type, key, modifier)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">keyboardEvent = function (type, key, modifier) {
	type = (typeof type === 'undefined') ? 'keypress' : type;
	key = (typeof key === 'undefined') ? null : key;
	modifier = (typeof modifier === 'undefined') ? 0 : modifier;

	var self = this;
	return self.ready
		.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				self.page.sendEvent(type, key, null, null, modifier, done);
			});
		})
		.tap(function() {
			debug('.keyboardEvent()', type, key, modifier);
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .<span class="apidocCodeKeywordSpan">keyboardEvent</span>('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.log" id="apidoc.element.node-horseman.actions.log">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>log
        <span class="apidocSignatureSpan">(output)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (output) {
	if (arguments.length === 0) {
		output = this.lastVal;
	}

	return this.ready.then(function() {
		console.log(output);
		return this.lastVal;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .<span class="apidocCodeKeywordSpan">log</span>() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.

### Count Twitter Followers Concurrently
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.manipulate" id="apidoc.element.node-horseman.actions.manipulate">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>manipulate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">manipulate = function () {
	this.__evaluate.apply(this, arguments);
	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.mouseEvent" id="apidoc.element.node-horseman.actions.mouseEvent">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>mouseEvent
        <span class="apidocSignatureSpan">(type, x, y, button)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mouseEvent = function (type, x, y, button) {
	type = (typeof type === 'undefined') ? 'click' : type;
	x = (typeof x === 'undefined') ? null : x;
	y = (typeof y === 'undefined') ? null : y;
	button = (typeof button === 'undefined') ? 'left' : button;

	var self = this;
	return self.ready
		.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				self.page.sendEvent(type, x, y, button, done);
			});
		})
		.tap(function() {
			debug('.mouseEvent()', type, x, y, button);
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Inject a JavaScript file onto the page.

#### .includeJs(url)

Include an external JavaScript script on the page via URL.

#### .<span class="apidocCodeKeywordSpan">mouseEvent</span>(type, \[x, y, \[button\]\])

Send a mouse event to the page.
Each event is sent to the page as if it comes from real user interaction.
`type` must be one of
`'mouseup'`, `'mousedown'`, `'mousemove'`, `'doubleclick'`, or `'click'`,
which is the default.
`x` and `y` are optional
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.on" id="apidoc.element.node-horseman.actions.on">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>on
        <span class="apidocSignatureSpan">(eventType, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (eventType, callback) {
	var self = this;
	return this.ready.then(function() {
		switch (eventType) {
			<span class="apidocCodeCommentSpan">/**
			 * Horseman events
			 */
</span>			case 'timeout':
				self.page.onTimeout = callback;
				break;
			case 'tabCreated':
				self.onTabCreated = callback;
				break;
			case 'tabClosed':
				self.onTabClosed = callback;
				break;

			/**
			 * PhantomJS events
			 */
			// Callback horseman needs to mess with
			case 'resourceTimeout':
				self.page.onResouceTimeout = function(request) {
					callback.apply(this, arguments);
					// A resourceTimeout is a timeout
					setTimeout(function() {
						self.page.onTimeout('resourceTimneout', request);
					}, 0);
				};
				break;
			case 'urlChanged':
				self.page.onUrlChanged = function(targetUrl) {
					self.targetUrl = targetUrl;
					return callback.apply(this, arguments);
				};
				break;
			case 'resourceReceived':
				self.page.onResourceReceived = function(response) {
					self.responses[response.url] = response.status;
					return callback.apply(this, arguments);
				};
				break;
			case 'pageCreated':
				self.page.onPageCreated2 = callback;
				break;
			case 'loadFinished':
				self.page.onLoadFinished2 = callback;
				break;
			// Others
			default:
				var pageEvent = 'on' +
						eventType.charAt(0).toUpperCase() + eventType.slice(1);
				self.page[pageEvent] = callback;
		}

		debug('.on() ' + eventType + ' set.');
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

#### .closeTab(tabNum)

Close an open tab. Count starts at 0.

### Events

#### .<span class="apidocCodeKeywordSpan">on</span>(event, callback)

Respond to page events with the callback.
Be sure to set these before calling `.open()`.
The `callback` is evaluated in node.
If you need to return from `callback`, you probably want `.at` instead.

Supported events are:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.open" id="apidoc.element.node-horseman.actions.open">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>open
        <span class="apidocSignatureSpan">(url, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (url, method) {
	var args = Array.prototype.slice.call(arguments);
	var self = this;
	self.targetUrl = url;

	return this.ready.then(function() {
		method = method || 'GET';
		var meth = (typeof method === 'object') ? method.operation : method;
		meth = meth.toUpperCase();

		if (args.length &gt;= 2) {
			debug('.open()', meth, url);
		} else {
			debug('.open()', url);
		}
		var loaded = self.page.loadedPromise();
		loaded.catch(function() {});
		return HorsemanPromise.fromCallback(function(done) {
				args.push(done);
				return self.page.open.apply(self.page, args);
			})
			.tap(function checkStatus(status) {
				if (status !== 'success') {
					var err = new Error('Failed to ' + meth + ' url: ' + url);
					return HorsemanPromise.reject(err);
				}
			})
			.tap(function waitFoLoadFinished() {
				// Make sure page injecting is done
				return loaded;
			});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
.userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
.<span class="apidocCodeKeywordSpan">open</span>('http://www.google.com')
.type('input[name="q"]', 'github')
.click('[name="btnK"]')
.keyboardEvent('keypress', 16777221)
.waitForSelector('div.g')
.count('div.g')
.log() // prints out the number of results
.close();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.openTab" id="apidoc.element.node-horseman.actions.openTab">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>openTab
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openTab = function (url) {
	var self = this;
	self.targetUrl = url;
	return this.ready.then(function() {
		return self.pageMaker(url);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Resolves to `true` it switched frames
and `false` if it did not (i.e., the main frame was the current frame).

### Tabs

Horseman supports multiple tabs being open at the same time.

#### .<span class="apidocCodeKeywordSpan">openTab</span>(url)

Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .tabCount()

Returns the number of tabs currently open.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.pdf" id="apidoc.element.node-horseman.actions.pdf">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>pdf
        <span class="apidocSignatureSpan">(path, paperSize)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pdf = function (path, paperSize) {
	var self = this;
	debug('.pdf()', path, paperSize);
	if (!paperSize) {
		paperSize = {
			format: 'Letter',
			orientation: 'portrait',
			margin: '0.5in'
		};
	}
	return this.ready
		.then(function setPaperSize() {
			return HorsemanPromise.fromCallback(function(done) {
				return self.page.set('paperSize', paperSize, done);
			});
		})
		.then(function render() {
			return HorsemanPromise.fromCallback(function(done) {
				return self.page.render(path, {
					format: 'pdf',
					quality: '100'
				}, done);
			});
		})
		.tap(function() {
			debug('.pdf() complete');
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .cropBase64(area, type)

Returns a string representing a cropped, base64 encoded screenshot of the page.
`area` can be a string identifying an html element on the screen to crop to,
or a [getBoundingClientRect][] object.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .<span class="apidocCodeKeywordSpan">pdf</span>(path, \[paperSize\])

[US Letter]: &lt;http://en.wikipedia.org/wiki/Letter_%28paper_size%29&gt;
Renders the page as a PDF.
The default paperSize is [US Letter][].

The `paperSize` object should be in either this format:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.plainText" id="apidoc.element.node-horseman.actions.plainText">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>plainText
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">plainText = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise
			.fromCallback(function(done) {
				return self.page.get('plainText', done);
			});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
If no `selector` is provided, it returns the HTML of the entire page.
If `file` is provided, the HTML will be written to that filename.

#### .text(selector)

Gets the text inside of an element.

#### .<span class="apidocCodeKeywordSpan">plainText</span>()

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .value(selector, \[val\])

Get, or set, the value of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.post" id="apidoc.element.node-horseman.actions.post">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>post
        <span class="apidocSignatureSpan">(url, postData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function (url, postData) {
	debug('.post()', url);
	return this.open(url, 'POST', postData);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### Navigation

#### .open(url)

Load the page at `url`.

#### .<span class="apidocCodeKeywordSpan">post</span>(url, postData)

POST `postData` to the page at `url`.

#### .put(url, putData)

PUT `putData` to the page at `url`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.put" id="apidoc.element.node-horseman.actions.put">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>put
        <span class="apidocSignatureSpan">(url, putData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">put = function (url, putData) {
	debug('.put()', url);
	return this.open(url, 'PUT', putData);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Load the page at `url`.

#### .post(url, postData)

POST `postData` to the page at `url`.

#### .<span class="apidocCodeKeywordSpan">put</span>(url, putData)

PUT `putData` to the page at `url`.

#### .back()

Go back to the previous page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.reload" id="apidoc.element.node-horseman.actions.reload">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>reload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reload = function () {
	debug('.reload()');
	return this.__evaluate(function reload() {
		document.location.reload(true);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Go forward to the next page.

#### .status()

The HTTP status code returned for the page just opened.

#### .<span class="apidocCodeKeywordSpan">reload</span>()

Refresh the current page.

#### .cookies(\[object|array of objects|string\])

Without any options,
this function will return all the cookies inside the browser.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.screenshot" id="apidoc.element.node-horseman.actions.screenshot">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>screenshot
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">screenshot = function (path) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.screenshot()', path);
			self.page.render(path, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Combine this with `viewport` to produce high DPI screenshots.

```js
horseman
  .viewport(3200,1800)
  .zoom(2)
  .open('http://www.horsemanjs.org')
  .<span class="apidocCodeKeywordSpan">screenshot</span>('big.png')
  .close();
```

### Evaluation

Evaluation elements return information from the page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.screenshotBase64" id="apidoc.element.node-horseman.actions.screenshotBase64">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>screenshotBase64
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">screenshotBase64 = function (type) {
	if (['PNG', 'GIF', 'JPEG'].indexOf(type) == -1) {
		debug('.screenshotBase64() with type ' + type + ' not supported.');
		debug('type must be one of PNG, GIF, or JPEG');
		var err = new Error('screenshotBase64 type must be PNG, GIF, or JPEG.');
		return HorsemanPromise.reject(err);
	} else {
		var self = this;
		var result;
		return this.ready.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				debug('.screenshotBase64()', type);
				return self.page.renderBase64(type, done);
			});
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Gets the height of an element.

#### .screenshot(path)

Saves a screenshot of the current page to the specified `path`.
Useful for debugging.

#### .<span class="apidocCodeKeywordSpan">screenshotBase64</span>(type)

Returns a base64 encoded string representing the screenshot.
Type must be one of 'PNG', 'GIF', or 'JPEG'.

#### .crop(area, path)

[getBoundingClientRect]: https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.scrollTo" id="apidoc.element.node-horseman.actions.scrollTo">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>scrollTo
        <span class="apidocSignatureSpan">(top, left)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scrollTo = function (top, left) {
	var self = this;

	var position = {
		top: top,
		left: left
	};
	debug('.scrollTo()', top, left);
	return this.ready.then(function() {
		return new HorsemanPromise(function(resolve, reject) {
			self.page.set('scrollPosition', position, function(err) {
				if (err) { return reject(err); }
				return resolve();
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### .viewport(width, height)

Set the `width` and `height` of the viewport, useful for screenshotting.
You have to set the viewport before calling `.open()`.

#### .<span class="apidocCodeKeywordSpan">scrollTo</span>(top, left)

Scroll to a position on the page,
relative to the top left corner of the document.

#### .zoom(zoomFactor)

Set the amount of zoom on a page.  The default zoomFactor is 1.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.select" id="apidoc.element.node-horseman.actions.select">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>select
        <span class="apidocSignatureSpan">(selector, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function (selector, value) {
	debug('.select()', selector, value);
	return this.value(selector, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .close();
```

#### .click(selector)

Clicks the `selector` element once.

#### .<span class="apidocCodeKeywordSpan">select</span>(selector, value)

Sets the value of a `select` element to `value`.

#### .clear(selector)

Sets the value of an element to `''`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.setProxy" id="apidoc.element.node-horseman.actions.setProxy">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>setProxy
        <span class="apidocSignatureSpan">(ip, port, type, user, pass)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setProxy = function (ip, port, type, user, pass) {
	var self = this;
	return this.ready.then(function() {
		if (ip) {
			// Handle URI (e.g. "protocol://user:pass@ip:port")
			var parsed = url.parse(ip);
			if (!parsed.slashes) { // No protocol was supplied
				parsed = url.parse('http://' + ip);
			}
			ip = parsed.hostname;
			port = port || parseInt(parsed.port) || 80;
			type = type || parsed.protocol.replace(/:$/, '');
			if (parsed.auth) {
				var auth = parsed.auth.split(':');
				user = user || auth[0];
				pass = pass || auth[1];
			}
			user = user || '';
			pass = pass || '';
		}

		debug('setProxy', ip, port, type, user, pass);
		return HorsemanPromise.fromCallback(function(done) {
			return self.phantom.setProxy(ip, port, type, user, pass, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    http://phantomjs.org/api/command-line.html).
    **These options have precedence over options implicitly set by Horseman.**
  * `debugPort`: Enable web inspector on specified port, default not set.
  * `debugAutorun`: Autorun on launch when in debug mode, default is true.

### Configuration

#### .<span class="apidocCodeKeywordSpan">setProxy</span>(ip, \[port\], \[type\], \[user, pass\])

Dynamically set proxy settings (***requires PhantomJS 2.0.0 or above***).
The `ip` argument can either be the IP of the proxy server,
or a URI of the form `type://user:pass@ip:port`.

The `port` is optional and defaults to `80`.
The `type` is optional and defaults to `'http'`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.status" id="apidoc.element.node-horseman.actions.status">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>status
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">status = function () {
	var self = this;
	return this.ready.then(function() {
		var status = self.responses[ self.targetUrl ];

		// If the open was for 'http://www.google.com',
		// the results may be stored in 'http://www.google.com/'
		if (typeof status === 'undefined') {
			status = self.responses[ self.targetUrl + '/'];
		}
		return status;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Go back to the previous page.

#### .forward()

Go forward to the next page.

#### .<span class="apidocCodeKeywordSpan">status</span>()

The HTTP status code returned for the page just opened.

#### .reload()

Refresh the current page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToChildFrame" id="apidoc.element.node-horseman.actions.switchToChildFrame">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToChildFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deprecated() {
  warned = exports.printDeprecationMessage(msg, warned, deprecated);
  if (new.target) {
    return Reflect.construct(fn, arguments, new.target);
  }
  return fn.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {string|integer} nameOrPosition - Name or position of frame
* to switch to
*/
exports.switchToChildFrame = util.deprecate(function(nameOrPosition) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.<span class="apidocCodeKeywordSpan">switchToChildFrame</span>()', nameOrPosition);
			return self.page.switchToChildFrame(nameOrPosition, done);
		});
	});
}, 'Horseman#switchToChildFrame: Use Horseman#switchToFrame instead');

/**
* Switch to the main frame.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToFocusedFrame" id="apidoc.element.node-horseman.actions.switchToFocusedFrame">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToFocusedFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToFocusedFrame = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.switchToFocusedFrame()');
			return self.page.switchToFocusedFrame(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the number of frames inside the current frame.

#### .frameNames()

Get the names of the frames inside the current frame.

#### .<span class="apidocCodeKeywordSpan">switchToFocusedFrame</span>()

Switch to the frame that is in focus.

#### .switchToFrame(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToFrame" id="apidoc.element.node-horseman.actions.switchToFrame">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToFrame
        <span class="apidocSignatureSpan">(nameOrPosition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToFrame = function (nameOrPosition) {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.switchToFrame()', nameOrPosition);
			return self.page.switchToFrame(nameOrPosition, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the names of the frames inside the current frame.

#### .switchToFocusedFrame()

Switch to the frame that is in focus.

#### .<span class="apidocCodeKeywordSpan">switchToFrame</span>(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.

#### .switchToMainFrame()

Switch to the main frame of the page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToMainFrame" id="apidoc.element.node-horseman.actions.switchToMainFrame">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToMainFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToMainFrame = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.switchToMainFrame()');
			return self.page.switchToMainFrame(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Switch to the frame that is in focus.

#### .switchToFrame(nameOrPosition)

Switch to the frame specified by a frame name or a frame position.

#### .<span class="apidocCodeKeywordSpan">switchToMainFrame</span>()

Switch to the main frame of the page.

#### .switchToParentFrame()

Switch to the parent frame of the current frame.
Resolves to `true` it switched frames
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToParentFrame" id="apidoc.element.node-horseman.actions.switchToParentFrame">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToParentFrame
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToParentFrame = function () {
	var self = this;
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			debug('.switchToParentFrame()');
			return self.page.switchToParentFrame(done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Switch to the frame specified by a frame name or a frame position.

#### .switchToMainFrame()

Switch to the main frame of the page.

#### .<span class="apidocCodeKeywordSpan">switchToParentFrame</span>()

Switch to the parent frame of the current frame.
Resolves to `true` it switched frames
and `false` if it did not (i.e., the main frame was the current frame).

### Tabs
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.switchToTab" id="apidoc.element.node-horseman.actions.switchToTab">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>switchToTab
        <span class="apidocSignatureSpan">(tabNumber)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">switchToTab = function (tabNumber) {
	return this.ready.then(function() {
		this.page = this.tabs[tabNumber];
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .tabCount()

Returns the number of tabs currently open.

#### .<span class="apidocCodeKeywordSpan">switchToTab</span>(tabnumber)

Switch to another tab. Count starts at 0.

#### .closeTab(tabNum)

Close an open tab. Count starts at 0.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.tabCount" id="apidoc.element.node-horseman.actions.tabCount">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>tabCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabCount = function () {
	var self = this;
	return this.ready.then(function() {
		return self.tabs.length;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Horseman supports multiple tabs being open at the same time.

#### .openTab(url)

Open a URL in a new tab. Fires a `tabCreated` event.
Also, the newly created tab becomes the current tab.

#### .<span class="apidocCodeKeywordSpan">tabCount</span>()

Returns the number of tabs currently open.

#### .switchToTab(tabnumber)

Switch to another tab. Count starts at 0.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.text" id="apidoc.element.node-horseman.actions.text">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>text
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (selector) {
	debug('.text()', selector);
	return this.__evaluate(function text(selector) {
		if (selector) {
			return (window.jQuery) ?
					jQuery(selector).text() :
					document.querySelector(selector).textContent;
		} else {
			return (window.jQuery) ?
					jQuery('body').text() :
					document.querySelector('body').textContent;
		}
	}, selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Horseman = require('node-horseman');
const users = ['PhantomJS', 'nodejs'];

users.forEach((user) =&gt; {
    const horseman = new Horseman();
    horseman
        .open(`http://twitter.com/${user}`)
        .<span class="apidocCodeKeywordSpan">text</span>('.ProfileNav-item--followers .ProfileNav-value')
        .then((text) =&gt; {
            console.log(`${user}: ${text}`);
        })
        .close();
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.title" id="apidoc.element.node-horseman.actions.title">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>title
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">title = function () {
	debug('.title()');
	return this.__evaluate(function title() {
		return document.title;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .close();
```

### Evaluation

Evaluation elements return information from the page.

#### .<span class="apidocCodeKeywordSpan">title</span>()

Get the title of the current page.

#### .url()

Get the URL of the current page.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.type" id="apidoc.element.node-horseman.actions.type">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>type
        <span class="apidocSignatureSpan">(selector, text, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">type = function (selector, text, options) {
	var DEFAULTS = {
		reset: false, // clear the field first
		eventType: 'keypress', // keypress, keyup, keydown
		keepFocus: false // if true, don't blur afterwards
	};

	function computeModifier(modifierString) {
		var modifiers = {
			'ctrl': 0x04000000,
			'shift': 0x02000000,
			'alt': 0x08000000,
			'meta': 0x10000000,
			'keypad': 0x20000000
		};
		var modifier = 0;
		var checkKey = function(key) {
			if (key in modifiers) { return; }
			debug(key + 'is not a supported key modifier');
		};
		if (!modifierString) { return modifier; }
		var keys = modifierString.split('+');
		keys.forEach(checkKey);
		return keys.reduce(function(acc, key) {
			return acc | modifiers[key];
		}, modifier);
	}

	var modifiers = computeModifier(options &amp;&amp; options.modifiers);
	var opts = defaults(options || {}, DEFAULTS);

	var self = this;

	debug('.type()', selector, text, options);
	return self
		.__evaluate(function focus(selector) {
			if (window.jQuery) {
				jQuery(selector).focus();
			} else {
				document.querySelector(selector).focus();
			}
		}, selector)
		.return(text)
		.call('split', '')
		.each(function sendKey(key) {
			return self
				.keyboardEvent(opts.eventType, key, null, null, modifiers);
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .<span class="apidocCodeKeywordSpan">type</span>('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .waitForSelector('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.upload" id="apidoc.element.node-horseman.actions.upload">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>upload
        <span class="apidocSignatureSpan">(selector, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upload = function (selector, path) {
	var self = this;
	return this.ready
		.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				return fs.stat(path, done);
			});
		})
		.call('isFile')
		.then(function(isFile) {
			if (isFile) {
				return HorsemanPromise.fromCallback(function(done) {
					return self.page.uploadFile(selector, path, done);
				});
			} else {
				debug('.upload() file path not valid.');
				var err = new Error('File path for upload is not valid.');
				return HorsemanPromise.reject(err);
			}
		})
		.tap(function() {
			debug('.upload()', path, selector);
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .type(selector, text, \[options\])

Enters the `text` provided into the `selector` element.
Options is an object containing `eventType`
(`'keypress'`, `'keyup'`, `'keydown'`. Default is `'keypress'`)
and `modifiers`, which is a string in the form of `ctrl+shift+alt`.

#### .<span class="apidocCodeKeywordSpan">upload</span>(selector, path)

Specify the `path` to upload into a file input `selector` element.

#### .download(url, \[path\], \[binary\])

Download the contents of `url`.
If `path` is supplied the contents will be written there,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.url" id="apidoc.element.node-horseman.actions.url">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>url
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">url = function () {
	debug('.url()');
	return this.__evaluate(function url() {
		return document.location.href;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Evaluation elements return information from the page.

#### .title()

Get the title of the current page.

#### .<span class="apidocCodeKeywordSpan">url</span>()

Get the URL of the current page.

#### .visible(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.userAgent" id="apidoc.element.node-horseman.actions.userAgent">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>userAgent
        <span class="apidocSignatureSpan">(userAgent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">userAgent = function (userAgent) {
	var self = this;
	return this.ready.then(function() {
		return new HorsemanPromise(function(resolve, reject) {
			if (!userAgent) {
				self.page.get('settings', function(err, settings) {
					debug('.userAgent() get');
					if (err) { return reject(err); }
					return resolve(settings.userAgent);
				});
			} else {
				self.page.get('settings', function(err, settings) {
					if (err) { return reject(err); }
					settings.userAgent = userAgent;
					self.page.set('settings', settings, function(err) {
						if (err) { return reject(err); }
						debug('.userAgent() set', userAgent);
						return resolve();
					});
				});
			}
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Search on Google

```js
var Horseman = require('node-horseman');
var horseman = new Horseman();

horseman
.<span class="apidocCodeKeywordSpan">userAgent</span>('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/
27.0')
.open('http://www.google.com')
.type('input[name="q"]', 'github')
.click('[name="btnK"]')
.keyboardEvent('keypress', 16777221)
.waitForSelector('div.g')
.count('div.g')
.log() // prints out the number of results
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.value" id="apidoc.element.node-horseman.actions.value">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>value
        <span class="apidocSignatureSpan">(selector, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">value = function (selector, value) {
	debug('.value()', selector, value);
	var self = this;
	if (typeof value === 'undefined') { // get the value of an element
		return self
			.__evaluate(function valueGet(selector) {
				return (window.jQuery) ?
						jQuery(selector).val() :
						document.querySelector(selector).value;
			}, selector)
			.then(function(val) {
				if (val === null) {
					return this
						.exists(selector)
						.then(function(exists) {
							return (exists) ? '' : val;
						});
				} else {
					return val;
				}

			});

	} else { // set the value of an element
		return self.__evaluate(function valueSet(selector, value) {
			if (window.jQuery) {
				jQuery(selector).val(value).change();
			} else {
				var element = document.querySelector(selector);
				var event = document.createEvent('HTMLEvents');
				element.value = value;
				event.initEvent('change', true, true);
				element.dispatchEvent(event);
			}
		}, selector, value);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets the text inside of an element.

#### .plainText()

Gets the plain text of the whole page (using PhantomJS's [`plainText`](http://phantomjs.org/api/webpage/property/plain-text
.html) property).

#### .<span class="apidocCodeKeywordSpan">value</span>(selector, \[val\])

Get, or set, the value of an element.

#### .attribute(selector, attribute)

Gets an attribute of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.viewport" id="apidoc.element.node-horseman.actions.viewport">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>viewport
        <span class="apidocSignatureSpan">(width, height)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">viewport = function (width, height) {
	var self = this;
	if (!width) {
		debug('.viewport() get');
		return this.ready.then(function() {
			return self.__evaluate(function getViewport() {
				return {
					width: window.innerWidth,
					height: window.innerHeight
				};
			});
		});
	} else {
		debug('.viewport() set', width, height);
		return this.ready.then(function() {
			return HorsemanPromise.fromCallback(function(done) {
				var viewport = {
					width: width,
					height: height
				};
				self.page.set('viewportSize', viewport, done);
			});
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        "user": "myUserName"
      }
    */
    return horseman.close();
  });
```

#### .<span class="apidocCodeKeywordSpan">viewport</span>(width, height)

Set the `width` and `height` of the viewport, useful for screenshotting.
You have to set the viewport before calling `.open()`.

#### .scrollTo(top, left)

Scroll to a position on the page,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.visible" id="apidoc.element.node-horseman.actions.visible">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>visible
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visible = function (selector) {
	debug('.visible()', selector);
	return this
		.__evaluate(function visible(selector) {
			if (window.jQuery) {
				return jQuery(selector).is(':visible');
			} else {
				var elem = document.querySelector(selector);
				return elem &amp;&amp; (elem.offsetWidth &gt; 0 &amp;&amp; elem.offsetHeight &gt; 0);
			}
		}, selector)
		.then(function(vis) {
			return vis || false;
		});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Get the title of the current page.

#### .url()

Get the URL of the current page.

#### .<span class="apidocCodeKeywordSpan">visible</span>(selector)

Determines if a selector is visible, or not, on the page. Returns a boolean.

#### .exists(selector)

Determines if the selector exists, or not, on the page. Returns a boolean.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.wait" id="apidoc.element.node-horseman.actions.wait">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>wait
        <span class="apidocSignatureSpan">(milliseconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wait = function (milliseconds) {
	debug('.wait()', milliseconds);
	return this.ready.then(function() {
		return HorsemanPromise.delay(milliseconds);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Waiting

These functions for the browser to wait for an event to occur.
If the event does not occur before the timeout period
(configurable via the options),
a timeout event will be fired and the Promise for the action will reject.

#### .<span class="apidocCodeKeywordSpan">wait</span>(ms)

Wait for `ms` milliseconds e.g. `.wait(5000)`

#### .waitForNextPage([options])

Wait until a page finishes loading, typically after a `.click()`.
`options` can have be `{timeout: 5000}` to define an action-specific timeout.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.waitFor" id="apidoc.element.node-horseman.actions.waitFor">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitFor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitFor = function () {
	var args = Array.prototype.concat.apply([undefined], arguments);
	return waitForPage.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### .waitForSelector(selector, [options])

Wait until the element `selector` is present,
e.g., `.waitForSelector('#pay-button')`

`options` can have be `{timeout: 5000}` to define an action-specific timeout.

#### .<span class="apidocCodeKeywordSpan">waitFor</span>(fn, \[arg1, arg2,...\], value)

Wait until the `fn` evaluated on the page returns the *specified* `value`.
`fn` is invoked with args.

```js
// This will call the function in the browser repeatedly
// until true (or whatever else you specified) is returned
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.waitForNextPage" id="apidoc.element.node-horseman.actions.waitForNextPage">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitForNextPage
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForNextPage = function (options) {
	debug('.waitForNextPage()');
	var self = this;
	var startCnt = self.lastActionPageCnt;
	var timeout;
	if(typeof(options) !== "undefined" &amp;&amp; typeof(options.timeout)  === "number"){
		timeout = options.timeout;
	} else {
		timeout = self.options.timeout;
	}
	return this.ready.then(function() {
		var start = Date.now();
		return new HorsemanPromise(function(resolve, reject) {
				var waiting = setInterval(function() {
					if (self.pageCnt &gt; startCnt) {
						debug('.waitForNextPage() completed successfully');
						clearInterval(waiting);
						resolve();
					} else {
						var diff = Date.now() - start;
						if (diff &gt; timeout) {
							clearInterval(waiting);
							debug('.waitForNextPage() timed out');
							if (typeof self.page.onTimeout === 'function') {
								self.page.onTimeout('waitForNextPage');
							}
							reject(new TimeoutError(
									'timeout duing .waitForNextPage() after ' +
										diff + ' ms'));
						}
					}
				}, self.options.interval);
			});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
(configurable via the options),
a timeout event will be fired and the Promise for the action will reject.

#### .wait(ms)

Wait for `ms` milliseconds e.g. `.wait(5000)`

#### .<span class="apidocCodeKeywordSpan">waitForNextPage</span>([options])

Wait until a page finishes loading, typically after a `.click()`.
`options` can have be `{timeout: 5000}` to define an action-specific timeout.

#### .waitForSelector(selector, [options])

Wait until the element `selector` is present,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.waitForSelector" id="apidoc.element.node-horseman.actions.waitForSelector">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>waitForSelector
        <span class="apidocSignatureSpan">(selector, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">waitForSelector = function (selector, options) {
	debug('.waitForSelector()', selector, options);
	var elementPresent = function elementPresent(selector) {
		var els = window.jQuery ?
				jQuery(selector) : document.querySelectorAll(selector);
		return els.length &gt; 0;
	};

	var opts = {
		fn : elementPresent,
		args : [selector],
		value : true
	};

	if(typeof(options) !== "undefined" &amp;&amp; typeof(options.timeout)  === "number"){
		opts.timeout = options.timeout;
	}

	return this.waitFor(opts).then(function() {
		debug('.waitForSelector() complete');
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

horseman
  .userAgent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:27.0) Gecko/20100101 Firefox/27.0')
  .open('http://www.google.com')
  .type('input[name="q"]', 'github')
  .click('[name="btnK"]')
  .keyboardEvent('keypress', 16777221)
  .<span class="apidocCodeKeywordSpan">waitForSelector</span>('div.g')
  .count('div.g')
  .log() // prints out the number of results
  .close();
```

Save the file as `google.js`. Then, `node google.js`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.width" id="apidoc.element.node-horseman.actions.width">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>width
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">width = function (selector) {
	debug('.width()', selector);
	return this.__evaluate(function width(selector) {
		return (window.jQuery) ?
				jQuery(selector).width() :
				document.querySelector(selector).offsetWidth;
	}, selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Gets an attribute of an element.

#### .cssProperty(selector, property)

Gets a CSS property of an element.

#### .<span class="apidocCodeKeywordSpan">width</span>(selector)

Gets the width of an element.

#### .height(selector)

Gets the height of an element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-horseman.actions.zoom" id="apidoc.element.node-horseman.actions.zoom">
        function <span class="apidocSignatureSpan">node-horseman.actions.</span>zoom
        <span class="apidocSignatureSpan">(zoomFactor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">zoom = function (zoomFactor) {
	var self = this;
	debug('.zoomFactor() set', zoomFactor);
	return this.ready.then(function() {
		return HorsemanPromise.fromCallback(function(done) {
			self.page.set('zoomFactor', zoomFactor, done);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
You have to set the viewport before calling `.open()`.

#### .scrollTo(top, left)

Scroll to a position on the page,
relative to the top left corner of the document.

#### .<span class="apidocCodeKeywordSpan">zoom</span>(zoomFactor)

Set the amount of zoom on a page.  The default zoomFactor is 1.
To zoom to 200%, use a zoomFactor of 2.
Combine this with `viewport` to produce high DPI screenshots.

```js
horseman
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>